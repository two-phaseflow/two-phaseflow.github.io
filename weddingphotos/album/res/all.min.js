/* all.min.js - Tiger skin scripts */
var VER='2.2.6',DEBUG=false;
;Texts = {closeWindow:'Close window',okButton:'OK',warning:'Warning',error:'Error',today:'today',yesterday:'yesterday',daysAgo:'{0} days ago',monthsAgo:'{0} months ago',yearsAgo:'{0} years ago',addCart:'Add to Cart',shoppingCart:'Shopping cart',edit:'Edit',continueShopping:'Continue shopping',buyNow:'Buy Now',processedByPaypal:'Payment processed by PayPal',viewCart:'View Cart',emptyCart:'Empty Cart',removeAllItems:'Remove all items?',yes:'Yes',no:'No',noMoreItems:'You can&apos;t buy more than 99 items at once at PayPal. Added only the first 99.',item:'item',items:'items',success:'Success',couponCode:'Coupon code',redeem:'Redeem',noSuch:'No such coupon exists!',expired:'The coupon code <b>{0}</b> has expired!',lowerThanCurrent:'This coupon offers lower discount than the current <b>{0}</b>.',reclaimed:'This coupon has already been used!',subtotal:'Subtotal',total:'Total',shippingAndHandling:'Shipping and handling',reduction:'Reduction',discount:'Discount',tax:'Tax',remove:'Remove',couponAccepted:'Coupon code accepted, discounting <b>{0}</b>.',couponRemoved:'Coupon has been removed.',amountLowerThan:'The amount is lower than the discount <b>{0}</b>.',addMoreItems:'Add {0} more item(s) to use this coupon!',validAbove:'Valid only above {0} cart value.',higherThanTotal:'Coupon provides higher discount (<b>{0}</b>) than the cart total.',minAmountWarning:'This coupon can only be used if the total amount exceeds <b>{0}</b>.',minQuantityWarning:'This coupon can only be used if the number of items exceeds <b>{0}</b>.',maxNItems:'Maximum <b>{0}</b> items allowed!',continueBrowsing:'Continue browsing',feedback:'Feedback',feedbackOnAlbum:'Feedback on album "{0}"',overLimitWarning:'This is too much to pass to the email application directly. Please copy / paste the text below to the email body!',share:'Share',shareOn:'Share on',checkOutThis:'Check this out',localWarning:'CanÂ´t share local albums. Please upload your album first!',foundNTimes:'{0} image(s)',notFound:'not found',search:'Search',newImages:'New images',label:'Label',return:'return',and:'and',newItem:'NEW',today:'today',inTheLastDay:'in the last day',inThePastNDays:'in the past {0} days',inThePastNMonths:'in the past {0} months',inThePastNYears:'in the past {0} years',sinceMyLastVisit:'since my last visit',imagesAdded:'Images added',imagesModified:'Images modified',imagesTaken:'Images taken',startSlideshow:'Start slideshow',startSlideshowShort:'Play',atFirstPage:'At first page',atLastPage:'At last page',atLastPageQuestion:'Where to go next?',startOver:'Start over',backToHome:'Back to home',stop:'Stop',pause:'Pause',pauseShort:'Pause',upOneLevel:'Up one level',upOneLevelShort:'Exit',backToIndex:'Back to index page',previousPicture:'Previous picture',previousPictureShort:'Prev',nextPicture:'Next picture',nextPictureShort:'Next',previousFolder:'Previous folder',nextFolder:'Next folder',oneToOneSize:'1:1 size',oneToOneSizeShort:'1:1',fitToScreen:'Fit to screen',fitToScreenShort:'Fit',showInfo:'Show caption / info',showInfoShort:'Info',hideInfo:'Hide caption / info',hideInfoShort:'Hide info',showThumbs:'Show thumbnails',showThumbsShort:'Thumbnails',hideThumbs:'Hide thumbnails',hideThumbsShort:'Hide thumbs',clickToOpen:'Click to open this document with the associated viewer',metaBtn:'Photo data',metaLabel:'Display photographic (Exif/Iptc) data',mapBtn:'Map',mapLabel:'Show the photo location on map',shopBtn:'Buy',shopLabel:'Add this item to the shopping cart',shareBtn:'Share',shareLabel:'Share this photo over social sites',download:'Download',print:'Print',printLabel:'Print out this photo on your printer',fotomotoBtn:'Buy / Share',fotomotoLabel:'Buy prints or digital files, share, send free eCards',mostphotosBtn:'Purchase',mostphotosLabel:'Download this image from <b>mostphotos.com</b>!',regionsBtn:'People',regionsLabel:'Show tagged people',sendFeedback:'Send feedback',message:'Message',subject:'Subject',comment:'Comment',yourEmail:'Your email',send:'Send',messageSent:'Message sent',errorSending:'Error sending',tooLong:'Too long',emailMissing:'Email missing',noItemsSelected:'No items selected',selectItemsHint:'Select the desired items first!',scrollTopTooltip:'Top',more:'more',less:'less',locationWarning:'Works only when uploaded',cookiePolicyText:'This album is using cookies to remember your preferences. It does not track you, nor does it store any personal data.',cookiePolicyAgree:'Got it',cookiePolicyLearnMore:'Learn more',gdprComplianceText:'This site is using the following external services that might track your visits anonymously. Disabling tracking will stop their functionality.',allowAll:'Allow all',denyAll:'Deny all',allowSelected:'Allow selected'};
!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=18)}([function(e,t){e.exports=jQuery},function(e,t,n){"use strict";function i(){return"rtl"===r()("html").attr("dir")}function o(e,t){return e=e||6,Math.round(Math.pow(36,e+1)-Math.random()*Math.pow(36,e)).toString(36).slice(1)+(t?"-"+t:"")}function s(e){var t,n={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"},i=document.createElement("div");for(var o in n)"undefined"!=typeof i.style[o]&&(t=n[o]);return t?t:(t=setTimeout(function(){e.triggerHandler("transitionend",[e])},1),"transitionend")}n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var a=n(0),r=n.n(a)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function s(e){return o("undefined"!=typeof e.constructor.name?e.constructor.name:e.className)}n.d(t,"a",function(){return u});var a=n(0),r=(n.n(a),n(1)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(t,o){i(this,e),this._setup(t,o);var a=s(this);this.uuid=n.i(r.a)(6,a),this.$element.attr("data-"+a)||this.$element.attr("data-"+a,this.uuid),this.$element.data("zfPlugin")||this.$element.data("zfPlugin",this),this.$element.trigger("init.zf."+a)}return l(e,[{key:"destroy",value:function(){this._destroy();var e=s(this);this.$element.removeAttr("data-"+e).removeData("zfPlugin").trigger("destroyed.zf."+e);for(var t in this)this[t]=null}}]),e}()},function(e,t,n){"use strict";function i(e){var t={};return"string"!=typeof e?t:(e=e.trim().slice(1,-1))?t=e.split("&").reduce(function(e,t){var n=t.replace(/\+/g," ").split("="),i=n[0],o=n[1];return i=decodeURIComponent(i),o=void 0===o?null:decodeURIComponent(o),e.hasOwnProperty(i)?Array.isArray(e[i])?e[i].push(o):e[i]=[e[i],o]:e[i]=o,e},{}):t}n.d(t,"a",function(){return r});var o=n(0),s=n.n(o),a=window.matchMedia||function(){var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),n=document.getElementsByTagName("script")[0],i=null;t.type="text/css",t.id="matchmediajs-test",n&&n.parentNode&&n.parentNode.insertBefore(t,n),i="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=n:t.textContent=n,"1px"===i.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}(),r={queries:[],current:"",_init:function(){var e=this,t=s()("meta.foundation-mq");t.length||s()('<meta class="foundation-mq">').appendTo(document.head);var n,o=s()(".foundation-mq").css("font-family");n=i(o);for(var a in n)n.hasOwnProperty(a)&&e.queries.push({name:a,value:"only screen and (min-width: "+n[a]+")"});this.current=this._getCurrentSize(),this._watcher()},atLeast:function(e){var t=this.get(e);return!!t&&a(t).matches},is:function(e){return e=e.trim().split(" "),e.length>1&&"only"===e[1]?e[0]===this._getCurrentSize():this.atLeast(e[0])},get:function(e){for(var t in this.queries)if(this.queries.hasOwnProperty(t)){var n=this.queries[t];if(e===n.name)return n.value}return null},_getCurrentSize:function(){for(var e,t=0;t<this.queries.length;t++){var n=this.queries[t];a(n.value).matches&&(e=n)}return"object"==typeof e?e.name:e},_watcher:function(){var e=this;s()(window).off("resize.zf.mediaquery").on("resize.zf.mediaquery",function(){var t=e._getCurrentSize(),n=e.current;t!==n&&(e.current=t,s()(window).trigger("changed.zf.mediaquery",[t,n]))})}}},function(e,t,n){"use strict";function i(e){return!!e&&e.find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(function(){return!(!r()(this).is(":visible")||r()(this).attr("tabindex")<0)})}function o(e){var t=u[e.which||e.keyCode]||String.fromCharCode(e.which).toUpperCase();return t=t.replace(/\W+/,""),e.shiftKey&&(t="SHIFT_"+t),e.ctrlKey&&(t="CTRL_"+t),e.altKey&&(t="ALT_"+t),t=t.replace(/_$/,"")}function s(e){var t={};for(var n in e)t[e[n]]=e[n];return t}n.d(t,"a",function(){return d});var a=n(0),r=n.n(a),l=n(1),u={9:"TAB",13:"ENTER",27:"ESCAPE",32:"SPACE",35:"END",36:"HOME",37:"ARROW_LEFT",38:"ARROW_UP",39:"ARROW_RIGHT",40:"ARROW_DOWN"},c={},d={keys:s(u),parseKey:o,handleKey:function(e,t,i){var o,s,a,u=c[t],d=this.parseKey(e);if(!u)return console.warn("Component not defined!");if(o="undefined"==typeof u.ltr?u:n.i(l.c)()?r.a.extend({},u.ltr,u.rtl):r.a.extend({},u.rtl,u.ltr),s=o[d],a=i[s],a&&"function"==typeof a){var f=a.apply();(i.handled||"function"==typeof i.handled)&&i.handled(f)}else(i.unhandled||"function"==typeof i.unhandled)&&i.unhandled()},findFocusable:i,register:function(e,t){c[e]=t},trapFocus:function(e){var t=i(e),n=t.eq(0),s=t.eq(-1);e.on("keydown.zf.trapfocus",function(e){e.target===s[0]&&"TAB"===o(e)?(e.preventDefault(),n.focus()):e.target===n[0]&&"SHIFT_TAB"===o(e)&&(e.preventDefault(),s.focus())})},releaseFocus:function(e){e.off("keydown.zf.trapfocus")}}},function(e,t,n){"use strict";function i(e,t,i,o){function u(){e||t.hide(),c(),o&&o.apply(t)}function c(){t[0].style.transitionDuration=0,t.removeClass(d+" "+f+" "+i)}if(t=s()(t).eq(0),t.length){var d=e?r[0]:r[1],f=e?l[0]:l[1];c(),t.addClass(i).css("transition","none"),requestAnimationFrame(function(){t.addClass(d),e&&t.show()}),requestAnimationFrame(function(){t[0].offsetWidth,t.css("transition","").addClass(f)}),t.one(n.i(a.b)(t),u)}}n.d(t,"a",function(){return u});var o=n(0),s=n.n(o),a=n(1),r=["mui-enter","mui-leave"],l=["mui-enter-active","mui-leave-active"],u={animateIn:function(e,t,n){i(!0,e,t,n)},animateOut:function(e,t,n){i(!1,e,t,n)}}},function(e,t,n){"use strict";function i(e,t,n){var i=void 0,o=Array.prototype.slice.call(arguments,3);s()(window).off(t).on(t,function(t){i&&clearTimeout(i),i=setTimeout(function(){n.apply(null,o)},e||10)})}n.d(t,"a",function(){return u});var o=n(0),s=n.n(o),a=n(5),r=function(){for(var e=["WebKit","Moz","O","Ms",""],t=0;t<e.length;t++)if(e[t]+"MutationObserver"in window)return window[e[t]+"MutationObserver"];return!1}(),l=function(e,t){e.data(t).split(" ").forEach(function(n){s()("#"+n)["close"===t?"trigger":"triggerHandler"](t+".zf.trigger",[e])})},u={Listeners:{Basic:{},Global:{}},Initializers:{}};u.Listeners.Basic={openListener:function(){l(s()(this),"open")},closeListener:function(){var e=s()(this).data("close");e?l(s()(this),"close"):s()(this).trigger("close.zf.trigger")},toggleListener:function(){var e=s()(this).data("toggle");e?l(s()(this),"toggle"):s()(this).trigger("toggle.zf.trigger")},closeableListener:function(e){e.stopPropagation();var t=s()(this).data("closable");""!==t?a.a.animateOut(s()(this),t,function(){s()(this).trigger("closed.zf")}):s()(this).fadeOut().trigger("closed.zf")},toggleFocusListener:function(){var e=s()(this).data("toggle-focus");s()("#"+e).triggerHandler("toggle.zf.trigger",[s()(this)])}},u.Initializers.addOpenListener=function(e){e.off("click.zf.trigger",u.Listeners.Basic.openListener),e.on("click.zf.trigger","[data-open]",u.Listeners.Basic.openListener)},u.Initializers.addCloseListener=function(e){e.off("click.zf.trigger",u.Listeners.Basic.closeListener),e.on("click.zf.trigger","[data-close]",u.Listeners.Basic.closeListener)},u.Initializers.addToggleListener=function(e){e.off("click.zf.trigger",u.Listeners.Basic.toggleListener),e.on("click.zf.trigger","[data-toggle]",u.Listeners.Basic.toggleListener)},u.Initializers.addCloseableListener=function(e){e.off("close.zf.trigger",u.Listeners.Basic.closeableListener),e.on("close.zf.trigger","[data-closeable], [data-closable]",u.Listeners.Basic.closeableListener)},u.Initializers.addToggleFocusListener=function(e){e.off("focus.zf.trigger blur.zf.trigger",u.Listeners.Basic.toggleFocusListener),e.on("focus.zf.trigger blur.zf.trigger","[data-toggle-focus]",u.Listeners.Basic.toggleFocusListener)},u.Listeners.Global={resizeListener:function(e){r||e.each(function(){s()(this).triggerHandler("resizeme.zf.trigger")}),e.attr("data-events","resize")},scrollListener:function(e){r||e.each(function(){s()(this).triggerHandler("scrollme.zf.trigger")}),e.attr("data-events","scroll")},closeMeListener:function(e,t){var n=e.namespace.split(".")[0],i=s()("[data-"+n+"]").not('[data-yeti-box="'+t+'"]');i.each(function(){var e=s()(this);e.triggerHandler("close.zf.trigger",[e])})}},u.Initializers.addClosemeListener=function(e){var t=s()("[data-yeti-box]"),n=["dropdown","tooltip","reveal"];if(e&&("string"==typeof e?n.push(e):"object"==typeof e&&"string"==typeof e[0]?n.concat(e):console.error("Plugin names must be strings")),t.length){var i=n.map(function(e){return"closeme.zf."+e}).join(" ");s()(window).off(i).on(i,u.Listeners.Global.closeMeListener)}},u.Initializers.addResizeListener=function(e){var t=s()("[data-resize]");t.length&&i(e,"resize.zf.trigger",u.Listeners.Global.resizeListener,t)},u.Initializers.addScrollListener=function(e){var t=s()("[data-scroll]");t.length&&i(e,"scroll.zf.trigger",u.Listeners.Global.scrollListener,t)},u.Initializers.addMutationEventsListener=function(e){if(!r)return!1;var t=e.find("[data-resize], [data-scroll], [data-mutate]"),n=function(e){var t=s()(e[0].target);switch(e[0].type){case"attributes":"scroll"===t.attr("data-events")&&"data-events"===e[0].attributeName&&t.triggerHandler("scrollme.zf.trigger",[t,window.pageYOffset]),"resize"===t.attr("data-events")&&"data-events"===e[0].attributeName&&t.triggerHandler("resizeme.zf.trigger",[t]),"style"===e[0].attributeName&&(t.closest("[data-mutate]").attr("data-events","mutate"),t.closest("[data-mutate]").triggerHandler("mutateme.zf.trigger",[t.closest("[data-mutate]")]));break;case"childList":t.closest("[data-mutate]").attr("data-events","mutate"),t.closest("[data-mutate]").triggerHandler("mutateme.zf.trigger",[t.closest("[data-mutate]")]);break;default:return!1}};if(t.length)for(var i=0;i<=t.length-1;i++){var o=new r(n);o.observe(t[i],{attributes:!0,childList:!0,characterData:!1,subtree:!0,attributeFilter:["data-events","style"]})}},u.Initializers.addSimpleListeners=function(){var e=s()(document);u.Initializers.addOpenListener(e),u.Initializers.addCloseListener(e),u.Initializers.addToggleListener(e),u.Initializers.addCloseableListener(e),u.Initializers.addToggleFocusListener(e)},u.Initializers.addGlobalListeners=function(){var e=s()(document);u.Initializers.addMutationEventsListener(e),u.Initializers.addResizeListener(),u.Initializers.addScrollListener(),u.Initializers.addClosemeListener()},u.init=function(e,t){if("undefined"==typeof e.triggersInitialized){e(document);"complete"===document.readyState?(u.Initializers.addSimpleListeners(),u.Initializers.addGlobalListeners()):e(window).on("load",function(){u.Initializers.addSimpleListeners(),u.Initializers.addGlobalListeners()}),e.triggersInitialized=!0}t&&(t.Triggers=u,t.IHearYou=u.Initializers.addGlobalListeners)}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n(0),o=n.n(i),s={Feather:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zf";e.attr("role","menubar");var n=e.find("li").attr({role:"menuitem"}),i="is-"+t+"-submenu",s=i+"-item",a="is-"+t+"-submenu-parent",r="accordion"!==t;n.each(function(){var e=o()(this),n=e.children("ul");n.length&&(e.addClass(a),n.addClass("submenu "+i).attr({"data-submenu":""}),r&&(e.attr({"aria-haspopup":!0,"aria-label":e.children("a:first").text()}),"drilldown"===t&&e.attr({"aria-expanded":!1})),n.addClass("submenu "+i).attr({"data-submenu":"",role:"menu"}),"drilldown"===t&&n.attr({"aria-hidden":!0})),e.parent("[data-submenu]").length&&e.addClass("is-submenu-item "+s)})},Burn:function(e,t){var n="is-"+t+"-submenu",i=n+"-item",o="is-"+t+"-submenu-parent";e.find(">li, .menu, .menu > li").removeClass(n+" "+i+" "+o+" is-submenu-item submenu is-active").removeAttr("data-submenu").css("display","")}}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var a=n(0),r=n.n(a),l=n(4),u=n(7),c=n(9),d=n(1),f=n(2),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),h(t,[{key:"_setup",value:function(e,n){this.$element=e,this.options=r.a.extend({},t.defaults,this.$element.data(),n),this.className="DropdownMenu",this._init(),l.a.register("DropdownMenu",{ENTER:"open",SPACE:"open",ARROW_RIGHT:"next",ARROW_UP:"up",ARROW_DOWN:"down",ARROW_LEFT:"previous",ESCAPE:"close"})}},{key:"_init",value:function(){u.a.Feather(this.$element,"dropdown");var e=this.$element.find("li.is-dropdown-submenu-parent");this.$element.children(".is-dropdown-submenu-parent").children(".is-dropdown-submenu").addClass("first-sub"),this.$menuItems=this.$element.find('[role="menuitem"]'),this.$tabs=this.$element.children('[role="menuitem"]'),this.$tabs.find("ul.is-dropdown-submenu").addClass(this.options.verticalClass),"auto"===this.options.alignment?this.$element.hasClass(this.options.rightClass)||n.i(d.c)()||this.$element.parents(".top-bar-right").is("*")?(this.options.alignment="right",e.addClass("opens-left")):(this.options.alignment="left",e.addClass("opens-right")):"right"===this.options.alignment?e.addClass("opens-left"):e.addClass("opens-right"),this.changed=!1,this._events()}},{key:"_isVertical",value:function(){return"block"===this.$tabs.css("display")||"column"===this.$element.css("flex-direction")}},{key:"_isRtl",value:function(){return this.$element.hasClass("align-right")||n.i(d.c)()&&!this.$element.hasClass("align-left")}},{key:"_events",value:function(){var e=this,t="ontouchstart"in window||"undefined"!=typeof window.ontouchstart,n="is-dropdown-submenu-parent",i=function(i){var o=r()(i.target).parentsUntil("ul","."+n),s=o.hasClass(n),a="true"===o.attr("data-is-click"),l=o.children(".is-dropdown-submenu");if(s)if(a){if(!e.options.closeOnClick||!e.options.clickOpen&&!t||e.options.forceFollow&&t)return;i.stopImmediatePropagation(),i.preventDefault(),e._hide(o)}else i.preventDefault(),i.stopImmediatePropagation(),e._show(l),o.add(o.parentsUntil(e.$element,"."+n)).attr("data-is-click",!0)};(this.options.clickOpen||t)&&this.$menuItems.on("click.zf.dropdownmenu touchstart.zf.dropdownmenu",i),e.options.closeOnClickInside&&this.$menuItems.on("click.zf.dropdownmenu",function(t){var i=r()(this),o=i.hasClass(n);o||e._hide()}),this.options.disableHover||this.$menuItems.on("mouseenter.zf.dropdownmenu",function(t){var i=r()(this),o=i.hasClass(n);o&&(clearTimeout(i.data("_delay")),i.data("_delay",setTimeout(function(){e._show(i.children(".is-dropdown-submenu"))},e.options.hoverDelay)))}).on("mouseleave.zf.dropdownmenu",function(t){var i=r()(this),o=i.hasClass(n);if(o&&e.options.autoclose){if("true"===i.attr("data-is-click")&&e.options.clickOpen)return!1;clearTimeout(i.data("_delay")),i.data("_delay",setTimeout(function(){e._hide(i)},e.options.closingTime))}}),this.$menuItems.on("keydown.zf.dropdownmenu",function(t){var n,i,o=r()(t.target).parentsUntil("ul",'[role="menuitem"]'),s=e.$tabs.index(o)>-1,a=s?e.$tabs:o.siblings("li").add(o);a.each(function(e){if(r()(this).is(o))return n=a.eq(e-1),void(i=a.eq(e+1))});var u=function(){i.children("a:first").focus(),t.preventDefault()},c=function(){n.children("a:first").focus(),t.preventDefault()},d=function(){var n=o.children("ul.is-dropdown-submenu");n.length&&(e._show(n),o.find("li > a:first").focus(),t.preventDefault())},f=function(){var n=o.parent("ul").parent("li");n.children("a:first").focus(),e._hide(n),t.preventDefault()},h={open:d,close:function(){e._hide(e.$element),e.$menuItems.eq(0).children("a").focus(),t.preventDefault()},handled:function(){t.stopImmediatePropagation()}};s?e._isVertical()?e._isRtl()?r.a.extend(h,{down:u,up:c,next:f,previous:d}):r.a.extend(h,{down:u,up:c,next:d,previous:f}):e._isRtl()?r.a.extend(h,{next:c,previous:u,down:d,up:f}):r.a.extend(h,{next:u,previous:c,down:d,up:f}):e._isRtl()?r.a.extend(h,{next:f,previous:d,down:u,up:c}):r.a.extend(h,{next:d,previous:f,down:u,up:c}),l.a.handleKey(t,"DropdownMenu",h)})}},{key:"_addBodyHandler",value:function(){var e=r()(document.body),t=this;e.off("mouseup.zf.dropdownmenu touchend.zf.dropdownmenu").on("mouseup.zf.dropdownmenu touchend.zf.dropdownmenu",function(n){var i=t.$element.find(n.target);i.length||(t._hide(),e.off("mouseup.zf.dropdownmenu touchend.zf.dropdownmenu"))})}},{key:"_show",value:function(e){var t=this.$tabs.index(this.$tabs.filter(function(t,n){return r()(n).find(e).length>0})),n=e.parent("li.is-dropdown-submenu-parent").siblings("li.is-dropdown-submenu-parent");this._hide(n,t),e.css("visibility","hidden").addClass("js-dropdown-active").parent("li.is-dropdown-submenu-parent").addClass("is-active");var i=c.a.ImNotTouchingYou(e,null,!0);if(!i){var o="left"===this.options.alignment?"-right":"-left",s=e.parent(".is-dropdown-submenu-parent");s.removeClass("opens"+o).addClass("opens-"+this.options.alignment),i=c.a.ImNotTouchingYou(e,null,!0),i||s.removeClass("opens-"+this.options.alignment).addClass("opens-inner"),this.changed=!0}e.css("visibility",""),this.options.closeOnClick&&this._addBodyHandler(),this.$element.trigger("show.zf.dropdownmenu",[e])}},{key:"_hide",value:function(e,t){var n;n=e&&e.length?e:void 0!==t?this.$tabs.not(function(e,n){return e===t}):this.$element;var i=n.hasClass("is-active")||n.find(".is-active").length>0;if(i){if(n.find("li.is-active").add(n).attr({"data-is-click":!1}).removeClass("is-active"),n.find("ul.js-dropdown-active").removeClass("js-dropdown-active"),this.changed||n.find("opens-inner").length){var o="left"===this.options.alignment?"right":"left";n.find("li.is-dropdown-submenu-parent").add(n).removeClass("opens-inner opens-"+this.options.alignment).addClass("opens-"+o),this.changed=!1}this.$element.trigger("hide.zf.dropdownmenu",[n])}}},{key:"_destroy",value:function(){this.$menuItems.off(".zf.dropdownmenu").removeAttr("data-is-click").removeClass("is-right-arrow is-left-arrow is-down-arrow opens-right opens-left opens-inner"),r()(document.body).off(".zf.dropdownmenu"),u.a.Burn(this.$element,"dropdown")}}]),t}(f.a);p.defaults={disableHover:!1,autoclose:!0,hoverDelay:50,clickOpen:!1,closingTime:500,alignment:"auto",closeOnClick:!0,closeOnClickInside:!0,verticalClass:"vertical",rightClass:"align-right",forceFollow:!0}},function(e,t,n){"use strict";function i(e,t,n,i,s){return 0===o(e,t,n,i,s)}function o(e,t,n,i,o){var a,r,l,u,c=s(e);if(t){var d=s(t);r=d.height+d.offset.top-(c.offset.top+c.height),a=c.offset.top-d.offset.top,l=c.offset.left-d.offset.left,u=d.width+d.offset.left-(c.offset.left+c.width)}else r=c.windowDims.height+c.windowDims.offset.top-(c.offset.top+c.height),a=c.offset.top-c.windowDims.offset.top,l=c.offset.left-c.windowDims.offset.left,u=c.windowDims.width-(c.offset.left+c.width);return r=o?0:Math.min(r,0),a=Math.min(a,0),l=Math.min(l,0),u=Math.min(u,0),n?l+u:i?a+r:Math.sqrt(a*a+r*r+l*l+u*u)}function s(e){if(e=e.length?e[0]:e,e===window||e===document)throw new Error("I'm sorry, Dave. I'm afraid I can't do that.");var t=e.getBoundingClientRect(),n=e.parentNode.getBoundingClientRect(),i=document.body.getBoundingClientRect(),o=window.pageYOffset,s=window.pageXOffset;return{width:t.width,height:t.height,offset:{top:t.top+o,left:t.left+s},parentDims:{width:n.width,height:n.height,offset:{top:n.top+o,left:n.left+s}},windowDims:{width:i.width,height:i.height,offset:{top:o,left:s}}}}function a(e,t,i,o,s,a){switch(console.log("NOTE: GetOffsets is deprecated in favor of GetExplicitOffsets and will be removed in 6.5"),i){case"top":return n.i(l.c)()?r(e,t,"top","left",o,s,a):r(e,t,"top","right",o,s,a);case"bottom":return n.i(l.c)()?r(e,t,"bottom","left",o,s,a):r(e,t,"bottom","right",o,s,a);case"center top":return r(e,t,"top","center",o,s,a);case"center bottom":return r(e,t,"bottom","center",o,s,a);case"center left":return r(e,t,"left","center",o,s,a);case"center right":return r(e,t,"right","center",o,s,a);case"left bottom":return r(e,t,"bottom","left",o,s,a);case"right bottom":return r(e,t,"bottom","right",o,s,a);case"center":return{left:$eleDims.windowDims.offset.left+$eleDims.windowDims.width/2-$eleDims.width/2+s,top:$eleDims.windowDims.offset.top+$eleDims.windowDims.height/2-($eleDims.height/2+o)};case"reveal":return{left:($eleDims.windowDims.width-$eleDims.width)/2+s,top:$eleDims.windowDims.offset.top+o};case"reveal full":return{left:$eleDims.windowDims.offset.left,top:$eleDims.windowDims.offset.top};default:return{left:n.i(l.c)()?$anchorDims.offset.left-$eleDims.width+$anchorDims.width-s:$anchorDims.offset.left+s,top:$anchorDims.offset.top+$anchorDims.height+o}}}function r(e,t,n,i,o,a,r){var l,u,c=s(e),d=t?s(t):null;switch(n){case"top":l=d.offset.top-(c.height+o);break;case"bottom":l=d.offset.top+d.height+o;break;case"left":u=d.offset.left-(c.width+a);break;case"right":u=d.offset.left+d.width+a}switch(n){case"top":case"bottom":switch(i){case"left":u=d.offset.left+a;break;case"right":u=d.offset.left-c.width+d.width-a;break;case"center":u=r?a:d.offset.left+d.width/2-c.width/2+a}break;case"right":case"left":switch(i){case"bottom":l=d.offset.top-o+d.height-c.height;break;case"top":l=d.offset.top+o;break;case"center":l=d.offset.top+o+d.height/2-c.height/2}}return{top:l,left:u}}n.d(t,"a",function(){return u});var l=n(1),u={ImNotTouchingYou:i,OverlapArea:o,GetDimensions:s,GetOffsets:a,GetExplicitOffsets:r}},function(e,t,n){"use strict";function i(e){if(void 0===Function.prototype.name){var t=/function\s([^(]{1,})\(/,n=t.exec(e.toString());return n&&n.length>1?n[1].trim():""}return void 0===e.prototype?e.constructor.name:e.prototype.constructor.name}function o(e){return"true"===e||"false"!==e&&(isNaN(1*e)?e:parseFloat(e))}function s(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}n.d(t,"a",function(){return d});var a=n(0),r=n.n(a),l=n(1),u=n(3),c="6.4.2",d={version:c,_plugins:{},_uuids:[],plugin:function(e,t){var n=t||i(e),o=s(n);this._plugins[o]=this[n]=e},registerPlugin:function(e,t){var o=t?s(t):i(e.constructor).toLowerCase();e.uuid=n.i(l.a)(6,o),e.$element.attr("data-"+o)||e.$element.attr("data-"+o,e.uuid),e.$element.data("zfPlugin")||e.$element.data("zfPlugin",e),e.$element.trigger("init.zf."+o),this._uuids.push(e.uuid)},unregisterPlugin:function(e){var t=s(i(e.$element.data("zfPlugin").constructor));this._uuids.splice(this._uuids.indexOf(e.uuid),1),e.$element.removeAttr("data-"+t).removeData("zfPlugin").trigger("destroyed.zf."+t);for(var n in e)e[n]=null},reInit:function(e){var t=e instanceof r.a;try{if(t)e.each(function(){r()(this).data("zfPlugin")._init()});else{var n=typeof e,i=this,o={object:function(e){e.forEach(function(e){e=s(e),r()("[data-"+e+"]").foundation("_init")})},string:function(){e=s(e),r()("[data-"+e+"]").foundation("_init")},undefined:function(){this.object(Object.keys(i._plugins))}};o[n](e)}}catch(e){console.error(e)}finally{return e}},reflow:function(e,t){"undefined"==typeof t?t=Object.keys(this._plugins):"string"==typeof t&&(t=[t]);var n=this;r.a.each(t,function(t,i){var s=n._plugins[i],a=r()(e).find("[data-"+i+"]").addBack("[data-"+i+"]");a.each(function(){var e=r()(this),t={};if(e.data("zfPlugin"))return void console.warn("Tried to initialize "+i+" on an element that already has a Foundation plugin.");if(e.attr("data-options")){e.attr("data-options").split(";").forEach(function(e,n){var i=e.split(":").map(function(e){return e.trim()});i[0]&&(t[i[0]]=o(i[1]))})}try{e.data("zfPlugin",new s(r()(this),t))}catch(e){console.error(e)}finally{return}})})},getFnName:i,addToJquery:function(e){var t=function(t){var n=typeof t,o=e(".no-js");if(o.length&&o.removeClass("no-js"),"undefined"===n)u.a._init(),d.reflow(this);else{if("string"!==n)throw new TypeError("We're sorry, "+n+" is not a valid parameter. You must use a string representing the method you wish to invoke.");var s=Array.prototype.slice.call(arguments,1),a=this.data("zfPlugin");if(void 0===a||void 0===a[t])throw new ReferenceError("We're sorry, '"+t+"' is not an available method for "+(a?i(a):"this element")+".");1===this.length?a[t].apply(a,s):this.each(function(n,i){a[t].apply(e(i).data("zfPlugin"),s)})}return this};return e.fn.foundation=t,e}};d.util={throttle:function(e,t){var n=null;return function(){var i=this,o=arguments;null===n&&(n=setTimeout(function(){e.apply(i,o),n=null},t))}}},window.Foundation=d,function(){Date.now&&window.Date.now||(window.Date.now=Date.now=function(){return(new Date).getTime()});for(var e=["webkit","moz"],t=0;t<e.length&&!window.requestAnimationFrame;++t){var n=e[t];window.requestAnimationFrame=window[n+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var i=0;window.requestAnimationFrame=function(e){var t=Date.now(),n=Math.max(i+16,t);return setTimeout(function(){e(i=n)},n-t)},window.cancelAnimationFrame=clearTimeout}window.performance&&window.performance.now||(window.performance={start:Date.now(),now:function(){return Date.now()-this.start}})}(),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},o=function(){return n.apply(this instanceof i?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(i.prototype=this.prototype),o.prototype=new i,o})},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return g});var a=n(0),r=n.n(a),l=n(3),u=n(1),c=n(2),d=n(8),f=n(17),h=n(16),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),m={dropdown:{cssClass:"dropdown",plugin:d.a},drilldown:{cssClass:"drilldown",plugin:f.a},accordion:{cssClass:"accordion-menu",plugin:h.a}},g=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),p(t,[{key:"_setup",value:function(e,t){this.$element=r()(e),this.rules=this.$element.data("responsive-menu"),this.currentMq=null,this.currentPlugin=null,this.className="ResponsiveMenu",this._init(),this._events()}},{key:"_init",value:function(){if(l.a._init(),"string"==typeof this.rules){for(var e={},t=this.rules.split(" "),i=0;i<t.length;i++){var o=t[i].split("-"),s=o.length>1?o[0]:"small",a=o.length>1?o[1]:o[0];null!==m[a]&&(e[s]=m[a])}this.rules=e}r.a.isEmptyObject(this.rules)||this._checkMediaQueries(),this.$element.attr("data-mutate",this.$element.attr("data-mutate")||n.i(u.a)(6,"responsive-menu"))}},{key:"_events",value:function(){var e=this;r()(window).on("changed.zf.mediaquery",function(){e._checkMediaQueries()})}},{key:"_checkMediaQueries",value:function(){var e,t=this;r.a.each(this.rules,function(t){l.a.atLeast(t)&&(e=t)}),e&&(this.currentPlugin instanceof this.rules[e].plugin||(r.a.each(m,function(e,n){t.$element.removeClass(n.cssClass)}),this.$element.addClass(this.rules[e].cssClass),this.currentPlugin&&this.currentPlugin.destroy(),this.currentPlugin=new this.rules[e].plugin(this.$element,{})))}},{key:"_destroy",value:function(){this.currentPlugin.destroy(),r()(window).off(".zf.ResponsiveMenu")}}]),t}(c.a);g.defaults={}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return f});var a=n(0),r=n.n(a),l=n(3),u=n(5),c=n(2),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),d(t,[{key:"_setup",value:function(e,n){this.$element=r()(e),this.options=r.a.extend({},t.defaults,this.$element.data(),n),this.className="ResponsiveToggle",this._init(),this._events()}},{key:"_init",value:function(){l.a._init();var e=this.$element.data("responsive-toggle");if(e||console.error("Your tab bar needs an ID of a Menu as the value of data-tab-bar."),this.$targetMenu=r()("#"+e),this.$toggler=this.$element.find("[data-toggle]").filter(function(){var t=r()(this).data("toggle");return t===e||""===t}),this.options=r.a.extend({},this.options,this.$targetMenu.data()),this.options.animate){var t=this.options.animate.split(" ");this.animationIn=t[0],this.animationOut=t[1]||null}this._update()}},{key:"_events",value:function(){this._updateMqHandler=this._update.bind(this),r()(window).on("changed.zf.mediaquery",this._updateMqHandler),this.$toggler.on("click.zf.responsiveToggle",this.toggleMenu.bind(this))}},{key:"_update",value:function(){l.a.atLeast(this.options.hideFor)?(this.$element.hide(),this.$targetMenu.show()):(this.$element.show(),this.$targetMenu.hide())}},{key:"toggleMenu",value:function(){var e=this;l.a.atLeast(this.options.hideFor)||(this.options.animate?this.$targetMenu.is(":hidden")?u.a.animateIn(this.$targetMenu,this.animationIn,function(){e.$element.trigger("toggled.zf.responsiveToggle"),e.$targetMenu.find("[data-mutate]").triggerHandler("mutateme.zf.trigger")}):u.a.animateOut(this.$targetMenu,this.animationOut,function(){e.$element.trigger("toggled.zf.responsiveToggle");
}):(this.$targetMenu.toggle(0),this.$targetMenu.find("[data-mutate]").trigger("mutateme.zf.trigger"),this.$element.trigger("toggled.zf.responsiveToggle")))}},{key:"_destroy",value:function(){this.$element.off(".zf.responsiveToggle"),this.$toggler.off(".zf.responsiveToggle"),r()(window).off("changed.zf.mediaquery",this._updateMqHandler)}}]),t}(c.a);f.defaults={hideFor:"medium",animate:!1}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){return/iP(ad|hone|od).*OS/.test(window.navigator.userAgent)}function r(){return/Android/.test(window.navigator.userAgent)}function l(){return a()||r()}n.d(t,"a",function(){return v});var u=n(0),c=n.n(u),d=n(4),f=n(3),h=n(5),p=n(2),m=n(6),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),v=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),g(t,[{key:"_setup",value:function(e,n){this.$element=e,this.options=c.a.extend({},t.defaults,this.$element.data(),n),this.className="Reveal",this._init(),m.a.init(c.a),d.a.register("Reveal",{ESCAPE:"close"})}},{key:"_init",value:function(){f.a._init(),this.id=this.$element.attr("id"),this.isActive=!1,this.cached={mq:f.a.current},this.isMobile=l(),this.$anchor=c()('[data-open="'+this.id+'"]').length?c()('[data-open="'+this.id+'"]'):c()('[data-toggle="'+this.id+'"]'),this.$anchor.attr({"aria-controls":this.id,"aria-haspopup":!0,tabindex:0}),(this.options.fullScreen||this.$element.hasClass("full"))&&(this.options.fullScreen=!0,this.options.overlay=!1),this.options.overlay&&!this.$overlay&&(this.$overlay=this._makeOverlay(this.id)),this.$element.attr({role:"dialog","aria-hidden":!0,"data-yeti-box":this.id,"data-resize":this.id}),this.$overlay?this.$element.detach().appendTo(this.$overlay):(this.$element.detach().appendTo(c()(this.options.appendTo)),this.$element.addClass("without-overlay")),this._events(),this.options.deepLink&&window.location.hash==="#"+this.id&&c()(window).one("load.zf.reveal",this.open.bind(this))}},{key:"_makeOverlay",value:function(){var e="";return this.options.additionalOverlayClasses&&(e=" "+this.options.additionalOverlayClasses),c()("<div></div>").addClass("reveal-overlay"+e).appendTo(this.options.appendTo)}},{key:"_updatePosition",value:function(){var e,t,n=this.$element.outerWidth(),i=c()(window).width(),o=this.$element.outerHeight(),s=c()(window).height();e="auto"===this.options.hOffset?parseInt((i-n)/2,10):parseInt(this.options.hOffset,10),t="auto"===this.options.vOffset?o>s?parseInt(Math.min(100,s/10),10):parseInt((s-o)/4,10):parseInt(this.options.vOffset,10),this.$element.css({top:t+"px"}),this.$overlay&&"auto"===this.options.hOffset||(this.$element.css({left:e+"px"}),this.$element.css({margin:"0px"}))}},{key:"_events",value:function(){var e=this,t=this;this.$element.on({"open.zf.trigger":this.open.bind(this),"close.zf.trigger":function(n,i){if(n.target===t.$element[0]||c()(n.target).parents("[data-closable]")[0]===i)return e.close.apply(e)},"toggle.zf.trigger":this.toggle.bind(this),"resizeme.zf.trigger":function(){t._updatePosition()}}),this.options.closeOnClick&&this.options.overlay&&this.$overlay.off(".zf.reveal").on("click.zf.reveal",function(e){e.target!==t.$element[0]&&!c.a.contains(t.$element[0],e.target)&&c.a.contains(document,e.target)&&t.close()}),this.options.deepLink&&c()(window).on("popstate.zf.reveal:"+this.id,this._handleState.bind(this))}},{key:"_handleState",value:function(e){window.location.hash!=="#"+this.id||this.isActive?this.close():this.open()}},{key:"open",value:function(){function e(){i.isMobile?(i.originalScrollPos||(i.originalScrollPos=window.pageYOffset),c()("html, body").addClass("is-reveal-open")):c()("body").addClass("is-reveal-open")}var t=this;if(this.options.deepLink){var n="#"+this.id;window.history.pushState?this.options.updateHistory?window.history.pushState({},"",n):window.history.replaceState({},"",n):window.location.hash=n}this.isActive=!0,this.$element.css({visibility:"hidden"}).show().scrollTop(0),this.options.overlay&&this.$overlay.css({visibility:"hidden"}).show(),this._updatePosition(),this.$element.hide().css({visibility:""}),this.$overlay&&(this.$overlay.css({visibility:""}).hide(),this.$element.hasClass("fast")?this.$overlay.addClass("fast"):this.$element.hasClass("slow")&&this.$overlay.addClass("slow")),this.options.multipleOpened||this.$element.trigger("closeme.zf.reveal",this.id);var i=this;this.options.animationIn?!function(){var n=function(){i.$element.attr({"aria-hidden":!1,tabindex:-1}).focus(),e(),d.a.trapFocus(i.$element)};t.options.overlay&&h.a.animateIn(t.$overlay,"fade-in"),h.a.animateIn(t.$element,t.options.animationIn,function(){t.$element&&(t.focusableElements=d.a.findFocusable(t.$element),n())})}():(this.options.overlay&&this.$overlay.show(0),this.$element.show(this.options.showDelay)),this.$element.attr({"aria-hidden":!1,tabindex:-1}).focus(),d.a.trapFocus(this.$element),e(),this._extraHandlers(),this.$element.trigger("open.zf.reveal")}},{key:"_extraHandlers",value:function(){var e=this;this.$element&&(this.focusableElements=d.a.findFocusable(this.$element),this.options.overlay||!this.options.closeOnClick||this.options.fullScreen||c()("body").on("click.zf.reveal",function(t){t.target!==e.$element[0]&&!c.a.contains(e.$element[0],t.target)&&c.a.contains(document,t.target)&&e.close()}),this.options.closeOnEsc&&c()(window).on("keydown.zf.reveal",function(t){d.a.handleKey(t,"Reveal",{close:function(){e.options.closeOnEsc&&e.close()}})}))}},{key:"close",value:function(){function e(){t.isMobile?(0===c()(".reveal:visible").length&&c()("html, body").removeClass("is-reveal-open"),t.originalScrollPos&&(c()("body").scrollTop(t.originalScrollPos),t.originalScrollPos=null)):0===c()(".reveal:visible").length&&c()("body").removeClass("is-reveal-open"),d.a.releaseFocus(t.$element),t.$element.attr("aria-hidden",!0),t.$element.trigger("closed.zf.reveal")}if(!this.isActive||!this.$element.is(":visible"))return!1;var t=this;this.options.animationOut?(this.options.overlay&&h.a.animateOut(this.$overlay,"fade-out"),h.a.animateOut(this.$element,this.options.animationOut,e)):(this.$element.hide(this.options.hideDelay),this.options.overlay?this.$overlay.hide(0,e):e()),this.options.closeOnEsc&&c()(window).off("keydown.zf.reveal"),!this.options.overlay&&this.options.closeOnClick&&c()("body").off("click.zf.reveal"),this.$element.off("keydown.zf.reveal"),this.options.resetOnClose&&this.$element.html(this.$element.html()),this.isActive=!1,t.options.deepLink&&(window.history.replaceState?window.history.replaceState("",document.title,window.location.href.replace("#"+this.id,"")):window.location.hash=""),this.$anchor.focus()}},{key:"toggle",value:function(){this.isActive?this.close():this.open()}},{key:"_destroy",value:function(){this.options.overlay&&(this.$element.appendTo(c()(this.options.appendTo)),this.$overlay.hide().off().remove()),this.$element.hide().off(),this.$anchor.off(".zf"),c()(window).off(".zf.reveal:"+this.id)}}]),t}(p.a);v.defaults={animationIn:"",animationOut:"",showDelay:0,hideDelay:0,closeOnClick:!0,closeOnEsc:!0,multipleOpened:!1,vOffset:"auto",hOffset:"auto",fullScreen:!1,btmOffsetPct:10,overlay:!0,resetOnClose:!1,deepLink:!1,updateHistory:!1,appendTo:"body",additionalOverlayClasses:""}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return d});var a=n(0),r=n.n(a),l=n(1),u=n(2),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),d=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"_setup",value:function(e,n){this.$element=e,this.options=r.a.extend({},t.defaults,this.$element.data(),n),this.className="SmoothScroll",this._init()}},{key:"_init",value:function(){var e=this.$element[0].id||n.i(l.a)(6,"smooth-scroll");this.$element.attr({id:e}),this._events()}},{key:"_events",value:function(){var e=this,n=function(n){if(!r()(this).is('a[href^="#"]'))return!1;var i=this.getAttribute("href");e._inTransition=!0,t.scrollToLoc(i,e.options,function(){e._inTransition=!1}),n.preventDefault()};this.$element.on("click.zf.smoothScroll",n),this.$element.on("click.zf.smoothScroll",'a[href^="#"]',n)}}],[{key:"scrollToLoc",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.defaults,i=arguments[2];if(!r()(e).length)return!1;var o=Math.round(r()(e).offset().top-n.threshold/2-n.offset);r()("html, body").stop(!0).animate({scrollTop:o},n.animationDuration,n.animationEasing,function(){i&&"function"==typeof i&&i()})}}]),t}(u.a);d.defaults={animationDuration:500,animationEasing:"linear",threshold:50,offset:0}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return f});var a=n(0),r=n.n(a),l=n(5),u=n(2),c=n(6),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),d(t,[{key:"_setup",value:function(e,n){this.$element=e,this.options=r.a.extend({},t.defaults,e.data(),n),this.className="",this.className="Toggler",c.a.init(r.a),this._init(),this._events()}},{key:"_init",value:function(){var e;this.options.animate?(e=this.options.animate.split(" "),this.animationIn=e[0],this.animationOut=e[1]||null):(e=this.$element.data("toggler"),this.className="."===e[0]?e.slice(1):e);var t=this.$element[0].id;r()('[data-open="'+t+'"], [data-close="'+t+'"], [data-toggle="'+t+'"]').attr("aria-controls",t),this.$element.attr("aria-expanded",!this.$element.is(":hidden"))}},{key:"_events",value:function(){this.$element.off("toggle.zf.trigger").on("toggle.zf.trigger",this.toggle.bind(this))}},{key:"toggle",value:function(){this[this.options.animate?"_toggleAnimate":"_toggleClass"]()}},{key:"_toggleClass",value:function(){this.$element.toggleClass(this.className);var e=this.$element.hasClass(this.className);e?this.$element.trigger("on.zf.toggler"):this.$element.trigger("off.zf.toggler"),this._updateARIA(e),this.$element.find("[data-mutate]").trigger("mutateme.zf.trigger")}},{key:"_toggleAnimate",value:function(){var e=this;this.$element.is(":hidden")?l.a.animateIn(this.$element,this.animationIn,function(){e._updateARIA(!0),this.trigger("on.zf.toggler"),this.find("[data-mutate]").trigger("mutateme.zf.trigger")}):l.a.animateOut(this.$element,this.animationOut,function(){e._updateARIA(!1),this.trigger("off.zf.toggler"),this.find("[data-mutate]").trigger("mutateme.zf.trigger")})}},{key:"_updateARIA",value:function(e){this.$element.attr("aria-expanded",!!e)}},{key:"_destroy",value:function(){this.$element.off(".zf.toggler")}}]),t}(u.a);f.defaults={animate:!1}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a=n(0),r=n.n(a),l=n(4),u=n(7),c=n(1),d=n(2),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),f(t,[{key:"_setup",value:function(e,n){this.$element=e,this.options=r.a.extend({},t.defaults,this.$element.data(),n),this.className="AccordionMenu",this._init(),l.a.register("AccordionMenu",{ENTER:"toggle",SPACE:"toggle",ARROW_RIGHT:"open",ARROW_UP:"up",ARROW_DOWN:"down",ARROW_LEFT:"close",ESCAPE:"closeAll"})}},{key:"_init",value:function(){u.a.Feather(this.$element,"accordion");var e=this;this.$element.find("[data-submenu]").not(".is-active").slideUp(0),this.$element.attr({role:"tree","aria-multiselectable":this.options.multiOpen}),this.$menuLinks=this.$element.find(".is-accordion-submenu-parent"),this.$menuLinks.each(function(){var t=this.id||n.i(c.a)(6,"acc-menu-link"),i=r()(this),o=i.children("[data-submenu]"),s=o[0].id||n.i(c.a)(6,"acc-menu"),a=o.hasClass("is-active");e.options.submenuToggle?(i.addClass("has-submenu-toggle"),i.children("a").after('<button id="'+t+'" class="submenu-toggle" aria-controls="'+s+'" aria-expanded="'+a+'" title="'+e.options.submenuToggleText+'"><span class="submenu-toggle-text">'+e.options.submenuToggleText+"</span></button>")):i.attr({"aria-controls":s,"aria-expanded":a,id:t}),o.attr({"aria-labelledby":t,"aria-hidden":!a,role:"group",id:s})}),this.$element.find("li").attr({role:"treeitem"});var t=this.$element.find(".is-active");if(t.length){var e=this;t.each(function(){e.down(r()(this))})}this._events()}},{key:"_events",value:function(){var e=this;this.$element.find("li").each(function(){var t=r()(this).children("[data-submenu]");t.length&&(e.options.submenuToggle?r()(this).children(".submenu-toggle").off("click.zf.accordionMenu").on("click.zf.accordionMenu",function(n){e.toggle(t)}):r()(this).children("a").off("click.zf.accordionMenu").on("click.zf.accordionMenu",function(n){n.preventDefault(),e.toggle(t)}))}).on("keydown.zf.accordionmenu",function(t){var n,i,o=r()(this),s=o.parent("ul").children("li"),a=o.children("[data-submenu]");s.each(function(e){if(r()(this).is(o))return n=s.eq(Math.max(0,e-1)).find("a").first(),i=s.eq(Math.min(e+1,s.length-1)).find("a").first(),r()(this).children("[data-submenu]:visible").length&&(i=o.find("li:first-child").find("a").first()),r()(this).is(":first-child")?n=o.parents("li").first().find("a").first():n.parents("li").first().children("[data-submenu]:visible").length&&(n=n.parents("li").find("li:last-child").find("a").first()),void(r()(this).is(":last-child")&&(i=o.parents("li").first().next("li").find("a").first()))}),l.a.handleKey(t,"AccordionMenu",{open:function(){a.is(":hidden")&&(e.down(a),a.find("li").first().find("a").first().focus())},close:function(){a.length&&!a.is(":hidden")?e.up(a):o.parent("[data-submenu]").length&&(e.up(o.parent("[data-submenu]")),o.parents("li").first().find("a").first().focus())},up:function(){return n.focus(),!0},down:function(){return i.focus(),!0},toggle:function(){return!e.options.submenuToggle&&(o.children("[data-submenu]").length?(e.toggle(o.children("[data-submenu]")),!0):void 0)},closeAll:function(){e.hideAll()},handled:function(e){e&&t.preventDefault(),t.stopImmediatePropagation()}})})}},{key:"hideAll",value:function(){this.up(this.$element.find("[data-submenu]"))}},{key:"showAll",value:function(){this.down(this.$element.find("[data-submenu]"))}},{key:"toggle",value:function(e){e.is(":animated")||(e.is(":hidden")?this.down(e):this.up(e))}},{key:"down",value:function(e){var t=this;this.options.multiOpen||this.up(this.$element.find(".is-active").not(e.parentsUntil(this.$element).add(e))),e.addClass("is-active").attr({"aria-hidden":!1}),this.options.submenuToggle?e.prev(".submenu-toggle").attr({"aria-expanded":!0}):e.parent(".is-accordion-submenu-parent").attr({"aria-expanded":!0}),e.slideDown(t.options.slideSpeed,function(){t.$element.trigger("down.zf.accordionMenu",[e])})}},{key:"up",value:function(e){var t=this;e.slideUp(t.options.slideSpeed,function(){t.$element.trigger("up.zf.accordionMenu",[e])});var n=e.find("[data-submenu]").slideUp(0).addBack().attr("aria-hidden",!0);this.options.submenuToggle?n.prev(".submenu-toggle").attr("aria-expanded",!1):n.parent(".is-accordion-submenu-parent").attr("aria-expanded",!1)}},{key:"_destroy",value:function(){this.$element.find("[data-submenu]").slideDown(0).css("display",""),this.$element.find("a").off("click.zf.accordionMenu"),this.options.submenuToggle&&(this.$element.find(".has-submenu-toggle").removeClass("has-submenu-toggle"),this.$element.find(".submenu-toggle").remove()),u.a.Burn(this.$element,"accordion")}}]),t}(d.a);h.defaults={slideSpeed:250,submenuToggle:!1,submenuToggleText:"Toggle menu",multiOpen:!0}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var a=n(0),r=n.n(a),l=n(4),u=n(7),c=n(1),d=n(9),f=n(2),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),h(t,[{key:"_setup",value:function(e,n){this.$element=e,this.options=r.a.extend({},t.defaults,this.$element.data(),n),this.className="Drilldown",this._init(),l.a.register("Drilldown",{ENTER:"open",SPACE:"open",ARROW_RIGHT:"next",ARROW_UP:"up",ARROW_DOWN:"down",ARROW_LEFT:"previous",ESCAPE:"close",TAB:"down",SHIFT_TAB:"up"})}},{key:"_init",value:function(){u.a.Feather(this.$element,"drilldown"),this.options.autoApplyClass&&this.$element.addClass("drilldown"),this.$element.attr({role:"tree","aria-multiselectable":!1}),this.$submenuAnchors=this.$element.find("li.is-drilldown-submenu-parent").children("a"),this.$submenus=this.$submenuAnchors.parent("li").children("[data-submenu]").attr("role","group"),this.$menuItems=this.$element.find("li").not(".js-drilldown-back").attr("role","treeitem").find("a"),this.$element.attr("data-mutate",this.$element.attr("data-drilldown")||n.i(c.a)(6,"drilldown")),this._prepareMenu(),this._registerEvents(),this._keyboardEvents()}},{key:"_prepareMenu",value:function(){var e=this;this.$submenuAnchors.each(function(){var t=r()(this),n=t.parent();e.options.parentLink&&t.clone().prependTo(n.children("[data-submenu]")).wrap('<li class="is-submenu-parent-item is-submenu-item is-drilldown-submenu-item" role="menuitem"></li>'),t.data("savedHref",t.attr("href")).removeAttr("href").attr("tabindex",0),t.children("[data-submenu]").attr({"aria-hidden":!0,tabindex:0,role:"group"}),e._events(t)}),this.$submenus.each(function(){var t=r()(this),n=t.find(".js-drilldown-back");if(!n.length)switch(e.options.backButtonPosition){case"bottom":t.append(e.options.backButton);break;case"top":t.prepend(e.options.backButton);break;default:console.error("Unsupported backButtonPosition value '"+e.options.backButtonPosition+"'")}e._back(t)}),this.$submenus.addClass("invisible"),this.options.autoHeight||this.$submenus.addClass("drilldown-submenu-cover-previous"),this.$element.parent().hasClass("is-drilldown")||(this.$wrapper=r()(this.options.wrapper).addClass("is-drilldown"),this.options.animateHeight&&this.$wrapper.addClass("animate-height"),this.$element.wrap(this.$wrapper)),this.$wrapper=this.$element.parent(),this.$wrapper.css(this._getMaxDims())}},{key:"_resize",value:function(){this.$wrapper.css({"max-width":"none","min-height":"none"}),this.$wrapper.css(this._getMaxDims())}},{key:"_events",value:function(e){var t=this;e.off("click.zf.drilldown").on("click.zf.drilldown",function(n){if(r()(n.target).parentsUntil("ul","li").hasClass("is-drilldown-submenu-parent")&&(n.stopImmediatePropagation(),n.preventDefault()),t._show(e.parent("li")),t.options.closeOnClick){var i=r()("body");i.off(".zf.drilldown").on("click.zf.drilldown",function(e){e.target===t.$element[0]||r.a.contains(t.$element[0],e.target)||(e.preventDefault(),t._hideAll(),i.off(".zf.drilldown"))})}})}},{key:"_registerEvents",value:function(){this.options.scrollTop&&(this._bindHandler=this._scrollTop.bind(this),this.$element.on("open.zf.drilldown hide.zf.drilldown closed.zf.drilldown",this._bindHandler)),this.$element.on("mutateme.zf.trigger",this._resize.bind(this))}},{key:"_scrollTop",value:function(){var e=this,t=""!=e.options.scrollTopElement?r()(e.options.scrollTopElement):e.$element,n=parseInt(t.offset().top+e.options.scrollTopOffset,10);r()("html, body").stop(!0).animate({scrollTop:n},e.options.animationDuration,e.options.animationEasing,function(){this===r()("html")[0]&&e.$element.trigger("scrollme.zf.drilldown")})}},{key:"_keyboardEvents",value:function(){var e=this;this.$menuItems.add(this.$element.find(".js-drilldown-back > a, .is-submenu-parent-item > a")).on("keydown.zf.drilldown",function(t){var i,o,s=r()(this),a=s.parent("li").parent("ul").children("li").children("a");a.each(function(e){if(r()(this).is(s))return i=a.eq(Math.max(0,e-1)),void(o=a.eq(Math.min(e+1,a.length-1)))}),l.a.handleKey(t,"Drilldown",{next:function(){if(s.is(e.$submenuAnchors))return e._show(s.parent("li")),s.parent("li").one(n.i(c.b)(s),function(){s.parent("li").find("ul li a").filter(e.$menuItems).first().focus()}),!0},previous:function(){return e._hide(s.parent("li").parent("ul")),s.parent("li").parent("ul").one(n.i(c.b)(s),function(){setTimeout(function(){s.parent("li").parent("ul").parent("li").children("a").first().focus()},1)}),!0},up:function(){return i.focus(),!s.is(e.$element.find("> li:first-child > a"))},down:function(){return o.focus(),!s.is(e.$element.find("> li:last-child > a"))},close:function(){s.is(e.$element.find("> li > a"))||(e._hide(s.parent().parent()),s.parent().parent().siblings("a").focus())},open:function(){return s.is(e.$menuItems)?s.is(e.$submenuAnchors)?(e._show(s.parent("li")),s.parent("li").one(n.i(c.b)(s),function(){s.parent("li").find("ul li a").filter(e.$menuItems).first().focus()}),!0):void 0:(e._hide(s.parent("li").parent("ul")),s.parent("li").parent("ul").one(n.i(c.b)(s),function(){setTimeout(function(){s.parent("li").parent("ul").parent("li").children("a").first().focus()},1)}),!0)},handled:function(e){e&&t.preventDefault(),t.stopImmediatePropagation()}})})}},{key:"_hideAll",value:function(){var e=this.$element.find(".is-drilldown-submenu.is-active").addClass("is-closing");this.options.autoHeight&&this.$wrapper.css({height:e.parent().closest("ul").data("calcHeight")}),e.one(n.i(c.b)(e),function(t){e.removeClass("is-active is-closing")}),this.$element.trigger("closed.zf.drilldown")}},{key:"_back",value:function(e){var t=this;e.off("click.zf.drilldown"),e.children(".js-drilldown-back").on("click.zf.drilldown",function(n){n.stopImmediatePropagation(),t._hide(e);var i=e.parent("li").parent("ul").parent("li");i.length&&t._show(i)})}},{key:"_menuLinkEvents",value:function(){var e=this;this.$menuItems.not(".is-drilldown-submenu-parent").off("click.zf.drilldown").on("click.zf.drilldown",function(t){setTimeout(function(){e._hideAll()},0)})}},{key:"_show",value:function(e){this.options.autoHeight&&this.$wrapper.css({height:e.children("[data-submenu]").data("calcHeight")}),e.attr("aria-expanded",!0),e.children("[data-submenu]").addClass("is-active").removeClass("invisible").attr("aria-hidden",!1),this.$element.trigger("open.zf.drilldown",[e])}},{key:"_hide",value:function(e){this.options.autoHeight&&this.$wrapper.css({height:e.parent().closest("ul").data("calcHeight")});e.parent("li").attr("aria-expanded",!1),e.attr("aria-hidden",!0).addClass("is-closing"),e.addClass("is-closing").one(n.i(c.b)(e),function(){e.removeClass("is-active is-closing"),e.blur().addClass("invisible")}),e.trigger("hide.zf.drilldown",[e])}},{key:"_getMaxDims",value:function(){var e=0,t={},n=this;return this.$submenus.add(this.$element).each(function(){var i=(r()(this).children("li").length,d.a.GetDimensions(this).height);e=i>e?i:e,n.options.autoHeight&&(r()(this).data("calcHeight",i),r()(this).hasClass("is-drilldown-submenu")||(t.height=i))}),this.options.autoHeight||(t["min-height"]=e+"px"),t["max-width"]=this.$element[0].getBoundingClientRect().width+"px",t}},{key:"_destroy",value:function(){this.options.scrollTop&&this.$element.off(".zf.drilldown",this._bindHandler),this._hideAll(),this.$element.off("mutateme.zf.trigger"),u.a.Burn(this.$element,"drilldown"),this.$element.unwrap().find(".js-drilldown-back, .is-submenu-parent-item").remove().end().find(".is-active, .is-closing, .is-drilldown-submenu").removeClass("is-active is-closing is-drilldown-submenu").end().find("[data-submenu]").removeAttr("aria-hidden tabindex role"),this.$submenuAnchors.each(function(){r()(this).off(".zf.drilldown")}),this.$submenus.removeClass("drilldown-submenu-cover-previous invisible"),this.$element.find("a").each(function(){var e=r()(this);e.removeAttr("tabindex"),e.data("savedHref")&&e.attr("href",e.data("savedHref")).removeData("savedHref")})}}]),t}(f.a);p.defaults={autoApplyClass:!0,backButton:'<li class="js-drilldown-back"><a tabindex="0">Back</a></li>',backButtonPosition:"top",wrapper:"<div></div>",parentLink:!1,closeOnClick:!1,autoHeight:!1,animateHeight:!1,scrollTop:!1,scrollTopElement:"",scrollTopOffset:0,animationDuration:500,animationEasing:"swing"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n.n(i),s=n(10),a=n(3),r=n(6),l=n(8),u=n(11),c=n(13),d=n(12),f=n(15),h=n(14);s.a.addToJquery(o.a),s.a.MediaQuery=a.a,r.a.init(o.a,s.a),s.a.plugin(l.a,"DropdownMenu"),s.a.plugin(u.a,"ResponsiveMenu"),s.a.plugin(c.a,"Reveal"),s.a.plugin(d.a,"ResponsiveToggle"),s.a.plugin(f.a,"Toggler"),s.a.plugin(h.a,"SmoothScroll")}]);
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("whatInput",[],t):"object"==typeof exports?exports.whatInput=t():e.whatInput=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";e.exports=function(){var e="initial",t=null,n=document.documentElement,o=["input","select","textarea"],i=[],r=[16,17,18,91,93],u=[9],d={keydown:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch"},s=[],a=!1,c=!1,p={x:null,y:null},f={2:"touch",3:"touch",4:"mouse"},v=!1;try{var m=Object.defineProperty({},"passive",{get:function(){v=!0}});window.addEventListener("test",null,m)}catch(e){}var w=function(){window.PointerEvent?(n.addEventListener("pointerdown",l),n.addEventListener("pointermove",y)):window.MSPointerEvent?(n.addEventListener("MSPointerDown",l),n.addEventListener("MSPointerMove",y)):(n.addEventListener("mousedown",l),n.addEventListener("mousemove",y),"ontouchstart"in window&&(n.addEventListener("touchstart",x),n.addEventListener("touchend",x))),n.addEventListener(b(),y,!!v&&{passive:!0}),n.addEventListener("keydown",l)},l=function(n){if(!a){var i=n.which,s=d[n.type];if("pointer"===s&&(s=L(n)),e!==s||t!==s){var c=document.activeElement,p=!1;(c&&c.nodeName&&-1===o.indexOf(c.nodeName.toLowerCase())||-1!==u.indexOf(i))&&(p=!0),("touch"===s||"mouse"===s||"keyboard"===s&&i&&p&&-1===r.indexOf(i))&&(e=t=s,h())}}},h=function(){n.setAttribute("data-whatinput",e),n.setAttribute("data-whatintent",e),-1===s.indexOf(e)&&(s.push(e),n.className+=" whatinput-types-"+e),E("input")},y=function(e){if(p.x!==e.screenX||p.y!==e.screenY?(c=!1,p.x=e.screenX,p.y=e.screenY):c=!0,!a&&!c){var o=d[e.type];"pointer"===o&&(o=L(e)),t!==o&&(t=o,n.setAttribute("data-whatintent",t),E("intent"))}},x=function(e){"touchstart"===e.type?(a=!1,l(e)):a=!0},E=function(e){for(var n=0,o=i.length;n<o;n++)i[n].type===e&&i[n].function.call(void 0,t)},L=function(e){return"number"==typeof e.pointerType?f[e.pointerType]:"pen"===e.pointerType?"touch":e.pointerType},b=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"};return"addEventListener"in window&&Array.prototype.indexOf&&(d[b()]="mouse",w(),h()),{ask:function(n){return"loose"===n?t:e},types:function(){return s},ignoreKeys:function(e){r=e},onChange:function(e,t){i.push({function:e,type:t})}}}()}])});
window.console=window.console||{log:function(t){}},String.prototype.hasOwnProperty("trim")||(String.wsp=[],String.wsp[9]=!0,String.wsp[10]=!0,String.wsp[11]=!0,String.wsp[12]=!0,String.wsp[13]=!0,String.wsp[32]=!0,String.wsp[133]=!0,String.wsp[160]=!0,String.wsp[5760]=!0,String.wsp[6158]=!0,String.wsp[8192]=!0,String.wsp[8193]=!0,String.wsp[8194]=!0,String.wsp[8195]=!0,String.wsp[8196]=!0,String.wsp[8197]=!0,String.wsp[8198]=!0,String.wsp[8199]=!0,String.wsp[8200]=!0,String.wsp[8201]=!0,String.wsp[8202]=!0,String.wsp[8203]=!0,String.wsp[8232]=!0,String.wsp[8233]=!0,String.wsp[8239]=!0,String.wsp[8287]=!0,String.wsp[12288]=!0,String.prototype.trim=function(){var t=this+"",e=t.length;if(e){var n=String.wsp,r=0;for(--e;e>=0&&n[t.charCodeAt(e)];)--e;for(++e;r<e&&n[t.charCodeAt(r)];)++r;t=t.substring(r,e)}return t}),String.prototype.hasOwnProperty("trunc")||(String.prototype.trunc=function(t){var e=this+"";if(e.length<=t)return e.toString();var n=e.substring(0,t-1),r=n.lastIndexOf(" ");return(r>6&&n.length-r<20?n.substring(0,r):n)+"..."}),String.prototype.hasOwnProperty("startsWith")||(String.prototype.startsWith=function(t){return 0===(this+"").indexOf(t)}),String.prototype.hasOwnProperty("endsWith")||(String.prototype.endsWith=function(t){return(this+"").substring(this.length-t.length)===t}),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.unCamelCase=function(){return this.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},String.prototype.getExt=function(){var t=this+"",e=t.lastIndexOf(".");return e<=0||e>=t.length-1?"":t.substring(e+1).toLowerCase()},String.prototype.stripExt=function(){var t=this+"",e=t.lastIndexOf(".");return e<=0||e>t.length-1?t:t.substring(0,e)},String.prototype.hasExt=function(t){var e=this+"",n=e.lastIndexOf(".");return n>=0&&(e=e.substring(n+1).toLowerCase(),(t+",").indexOf(e+",")>=0)},String.prototype.replaceExt=function(t){var e=this+"",n=e.lastIndexOf(".");return n<=0?e:e.substring(0,n+1)+t},String.prototype.fixExtension=function(){return(this+"").replace(/.gif$/gi,".png").replace(/.tif+$/gi,".jpg")},String.prototype.getDir=function(){var t=(this+"").split("#")[0];return t.substring(0,t.lastIndexOf("/")+1)},String.prototype.getFile=function(){var t=(this+"").split("#")[0];return t.substring(t.lastIndexOf("/")+1)},String.prototype.getRelpath=function(t){var e=this+"",n=e.lastIndexOf("#");for(-1===n?n=e.length-1:n--;n>=0&&("/"!==e[n]||0!=t--);n--);return e.substring(n+1)},String.prototype.fixUrl=function(){for(var t,e,n=this+"";(t=n.indexOf("../"))>0;){if(1===t||-1===(e=n.lastIndexOf("/",t-2)))return n.substring(t+3);n=n.substring(0,e)+n.substring(t+2)}return n},String.prototype.fullUrl=function(){var t=this+"";return t.match(/^(http|ftp|file)/)||(t=window.location.href.getDir()+t),t.fixUrl()},String.prototype.cleanupHTML=function(){for(var t=[[/<(b|h)r\/?>/gi,"\n"],[/\&amp;/g,"&"],[/\&nbsp;/g," "],[/\&lt;/g,"<"],[/\&gt;/g,">"],[/\&(m|n)dash;/g,"-"],[/\&apos;/g,"'"],[/\&quot;/g,'"']],e=this+"",n=t.length-1;n>=0;n--)e=e.replace(t[n][0],t[n][1]);return e.replace},String.prototype.stripHTML=function(t){var e=this+"";return t&&(e=e.cleanupHTML()),e.replace(/<\/?[^>]+>/g,"")},String.prototype.stripQuote=function(){return(this+"").replace(/\"/gi,"&quot;")},String.prototype.appendSep=function(t,e){return(this.length?this+(e||" &middot; "):"")+t},String.prototype.rgb2hex=function(){var t=this+"";if("#"===t.charAt(0)||"transparent"===t)return t;var e,n=t.match(/\d+/g),r="";if(n){for(var o=0;o<n.length&&o<3;++o)r+=((e=parseInt(n[o],10).toString(16)).length<2?"0":"")+e;return"#"+r}return"transparent"},String.prototype.template=function(t){if(void 0===t||!this)return this;!isNaN(parseFloat(t))&&isFinite(t)&&(t+="");var e=this+"";if(t.constructor===Array)for(var n=0;n<t.length;++n)e=e.replace(new RegExp("\\{"+n+"\\}","gi"),t[n]);else e=e.replace(/\{0\}/gi,t);return e},String.prototype.getSearchTerms=function(){var t=this+"";if(-1===t.indexOf('"'))return t.split(" ");var e,n=[];do{if((e=t.indexOf('"'))>0&&n.push.apply(n,t.substring(0,e).split(" ")),t=t.substring(e+1),(e=t.indexOf('"'))<0){n.push(t);break}n.push(t.substring(0,e)),t=t.substring(e+1)}while(t.length);return n},String.prototype.objectify=function(){if(!this||!this.length)return this;var t=this+"";"?"!==t.charAt(0)&&"#"!==t.charAt(0)||(t=t.substring(1));for(var e,n={},r=t.split("&"),o=0,i=r.length;o<i;++o)(e=r[o].split("=")).length>1&&(n[e[0]]=decodeURIComponent(e[1]));return n},String.prototype.testIn=function(t){return"string"!=typeof t&&(t+=""),new RegExp(this,"i").test(t)},String.prototype.testExactMatch=function(t){if(t.constructor!==Array)return this==t+"";for(var e=0,n=t.length;e<n;++e)if(this==t[e])return!0;return!1},String.prototype.fixjAlbumPaths=function(t,e,n){var r=(this+"").replace(/\%24/g,"$");return t&&(r=r.replace(/\${resPath}/g,t)),e&&(r=r.replace(/\${rootPath}/g,e)),n&&(r=r.replace(/\${relPath}/g,n)),r},String.prototype.testMatch=function(t){if(typeof t===UNDEF)return!1;var e=this.toLowerCase();if(t.constructor!==Array)return e===(t+"").toLowerCase();for(var n=0,r=t.length;n<r;++n)if(e===t[n].toLowerCase())return!0;return!1},String.prototype.hashCode=function(){for(var t=0,e=0,n=this.length;e<n;++e)t=(t<<5)-t+this.charCodeAt(e),t&=t;return t},Math.minMax=function(t,e,n){return(e=isNaN(e)?parseFloat(e):e)<t?t:e>n?n:e},Math.getRange=function(t,e){if(e.constructor!==Array)return t>=e?1:0;if(1===e.length)return t>=e[0]?1:0;if(t<e[0])return 0;for(var n=1;n<e.length&&!(t>=e[n-1]&&t<e[n]);n++);return n};var encodeJ=[];encodeJ[33]="%21",encodeJ[35]="%23",encodeJ[36]="%24",encodeJ[38]="%26",encodeJ[39]="%27",encodeJ[40]="%28",encodeJ[41]="%29",encodeJ[43]="%2B",encodeJ[44]="%2C",encodeJ[59]="%3B",encodeJ[60]="%3C",encodeJ[61]="%3D",encodeJ[62]="%3E",encodeJ[63]="%3F",encodeJ[64]="%40",encodeJ[123]="%7B",encodeJ[124]="%7C",encodeJ[125]="%7D";var UNDEF="undefined",LOCAL="file:"===document.location.protocol,isEmpty=function(t){return null==t||0===Object.getOwnPropertyNames(t).length},paramize=function(t){if("number"==typeof t)return""+t;if("string"==typeof t)return t;if("object"==typeof t){for(var e="",n=Object.getOwnPropertyNames(t),r=n.length,o=0;o<r;o++)null!==t[n[o]]&&(e+="&"+n[o]+"="+encodeURIComponent(t[n[o]]));if(e.length)return e.substring(1)}return""},allTrue=function(t){if(t&&t.constructor===Array){for(var e=0;e<t.length;++e)if(!t[e])return!1;return!0}return!0===t},removeEmpty=function(t){if(t&&t.constructor===Array){var e,n=new Array;for(e=0;e<t.length;e++)"string"==typeof t[e]&&t[e].length&&n.push(t[e]);return n}return t},getCoords=function(t){return t.touches?1==t.touches.length?{x:t.touches[0].clientX,y:t.touches[0].clientY}:t.changedTouches&&1==t.changedTouches.length?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}:null:{x:t.clientX,y:t.clientY}},translate=function(t,e){if(t=t.trim(),"undefined"!=typeof Texts&&Texts.hasOwnProperty(t))return Texts[t];if(void 0!==e)return DEBUG&&console&&console.log("Using default translation: "+t+"="+e),e;DEBUG&&console&&console.log("Missing translation: "+t);var n=t.replace(/([A-Z])/g," $1").toLowerCase();return n[0]=n.charAt(0).toUpperCase(),n},getKeys=function(t,e){var n,r={},o=t.split(","),i=o.length;for(n=0;n<i;n++)r[o[n]]=translate(o[n],e[o]);return r},getTranslations=function(t){var e,n={};for(e in t)"object"==typeof t[e]?n[e]=getTranslations(t[e]):n[e]=translate(e,t[e]);return n},readData=function(t,e){var n={};if(t&&t.length&&e){e=e.split(",");for(var r,o=0;o<e.length;o++)null!=(r=t.data(e[o]))&&(n[e[o]]=r)}return n},getRelativeDate=function(t){if(!t)return translate("today");if(1===t)return translate("yesterday");var e,n;return t>=730?(e=translate("yearsAgo"),n=Math.round(t/365)):t>=60?(e=translate("monthsAgo"),n=Math.round(t/30.5)):(e=translate("daysAgo"),n=t),e.replace("{0}",n)},getTimespan=function(t){if(!t)return translate("today");if(1===t)return translate("yesterday");var e,n;return t>=730?(e=translate("inThePastNYears"),n=Math.round(t/365)):t>=60?(e=translate("inThePastNMonths"),n=Math.round(t/30.42)):(e=translate("inThePastNDays"),n=t),e.replace("{0}",n)},getRelativePath=function(t,e){if(!e.length)return"";if(!t.length)return e.endsWith("/")?e:e+"/";if(t.endsWith("/")&&(t=t.slice(0,-1)),t===e)return"";for(var n=t.split("/"),r=e.split("/");n.length&&r.length&&n[0]===r[0];)n.shift(),r.shift();return"../../../../../../../../../../../../../../../../../../../../".substring(0,3*n.length)+(r.length?r.join("/")+"/":"")},encodeAsJava=function(t){var e="";for(t=/^(https?:|file:)?\/\//i.test(t)?encodeURI(t):encodeURIComponent(t),i=0;i<t.length;i++)e+=encodeJ[t.charCodeAt(i)]||t.charAt(i);return e},extend=function(){if(arguments.length<2)return arguments[0]||{};for(var t=arguments[0],e=1;e<arguments.length;e++)for(var n in arguments[e])arguments[e].hasOwnProperty(n)&&(t[n]=arguments[e][n]);return t},passDefaults=function(t,e,n){if(t&&e)if(void 0!==n){n=n.split(",");for(var r=0;r<n.length;r++)t.hasOwnProperty(n[r])&&(e[n[r]]=t[n[r]])}else for(var o in t)e[o]=t[o]},readUserPrefs=function(t,e){if(void 0!==e&&t){e=e.split(",");for(var n,r=0;r<e.length;r++)null!==(n=$.cookie(e[r]))&&(t[e[r]]=n)}},addParam=function(t,e,n){if(HISTORY){var r=window.location.hash;r&&("#"===r.charAt(0)&&(r=r.substring(1)),e=extend(history.state||r.objectify(),e)),(r="#"+paramize(e))!==window.location.hash&&history.pushState(e,void 0===n?"":n,r.length>1?r:t||"index.html")}},setParam=function(t,e,n){if(HISTORY){var r="#"+paramize(e);r!==window.location.hash&&history.pushState(e,void 0===n?"":n,r.length>1?r:t||"index.html")}},removeParam=function(t,e,n){if(HISTORY){var r,o=window.location.hash;o&&(void 0===e?(o="",history.pushState("","",t||"index.html")):("#"===o.charAt(0)&&(o=o.substring(1)),(r=history.state||o.objectify()).hasOwnProperty(e)&&(delete r[e],o="#"+paramize(r)),history.pushState(r,void 0===n?"":n,o.length>1?o:t||"index.html")))}},removeSearch=function(t){HISTORY&&history.replaceState(history.state,void 0===t?"":t,window.location.href.replace(window.location.search,""))},readParam=function(){if(HISTORY){if(history.state)return history.state;var t=window.location.hash;return"#"===t.charAt(0)&&(t=t.substring(1)),t.objectify()}return null},printImage=function(t,e,n){if(t){var r=window.open("about:blank","print","location=no,status=no,titlebar=no");r.document.open(),r.document.write('<!DOCTYPE html>\n<html>\n<head>\n<meta charset="utf-8">\n<title>'+(e||"Print")+'</title>\n<script>printOut=function(){window.print();window.close();}<\/script>\n<style>body{margin:0;padding:0;text-align:center;overflow:hidden;}\nimg{display:block;width:100%;height:auto;vertical-align:top;}</style>\n</head>\n<body onLoad="setTimeout(printOut,100)"><img src="'+t+'">'+(n||"")+"</body>\n</html>"),r.document.close()}},xDecrypt=function(t){var e,n,r,o=[147,163,87,254,153,4,198,23],i=t.length,a=5*Math.ceil(i/8),s=new Array(a),c="",l=0;for(e=0;e<a;e++)s[e]=0;for(e=0;e<i;e++)(r=t.charCodeAt(e)-48)>9&&(r-=7),r<<=11-l%8,(n=l>>3)<a&&(s[n]|=r>>8,++n<a&&(s[n]|=255&r)),l+=5;for(e=0;e<a;e++)s[e]^=o[e%8];for(a=s[0]|s[1]<<8,r=0,e=4;e<a;e++)c+=String.fromCharCode(s[e]),r+=s[e];return r!=(255&s[2]|s[3]<<8)&&(c=""),c},scrollbarWidth=function(){var t=document.createElement("div");t.style.cssText="width:100px;height:100px;overflow:scroll !important;position:absolute;top:-9999px",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},isTouchEnabled=function(){return/Trident/.test(navigator.userAgent)?void 0!==navigator.maxTouchPoints&&navigator.maxTouchPoints:/Edge/.test(navigator.userAgent)?0==scrollbarWidth():/(Chrome|CriOS)/.test(navigator.userAgent)?/Mobile/.test(navigator.userAgent)||"ontouchstart"in window:"ontouchstart"in window},getTouch=function(){return/Trident|Edge/.test(navigator.userAgent)?window.navigator.pointerEnabled?{START:"pointerdown",MOVE:"pointermove",END:"pointerup",CANCEL:"pointercancel"}:{START:"MSPointerDown",MOVE:"MSPointerMove",END:"MSPointerUp",CANCEL:"MSPointerCancel"}:{START:"touchstart",MOVE:"touchmove",END:"touchend",CANCEL:"touchcancel"}},hasLocalStorage=function(){try{return localStorage.setItem("_t","undefined"),localStorage.removeItem("_t"),!0}catch(t){return!1}},hasHistory=function(){var t=navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},hasPDFViewer=function(){return navigator.mimeTypes["application/pdf"]||function(){var t=function(t){try{return new ActiveXObject(t)}catch(t){}};return t("AcroPDF.PDF")||t("PDF.PdfCtrl")}()||/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},addClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},getVendor=function(){var t=navigator.userAgent;return t.indexOf("Trident")>0||t.indexOf("Edge")>0?"ms":t.indexOf("AppleWebKit")>0?"webkit":t.indexOf("Gecko")>0?"moz":t.indexOf("Presto")>0?"o":t.indexOf("Blink")>0?"webkit":""},loadGoogleAnalytics=function(t,e,n){if(!LOCAL){var r=xDecrypt(t);if("classic"===e){var o=o||[];o.push(["_setAccount",r]),o.push(["_trackPageview"]),function(t){var e=t.createElement("script");e.async=!0,e.src=("https:"===t.location.protocol?"https://ssl":"http://www")+(n?".stats.g.doubleclick.net/dc.js":".google-analytics.com/ga.js");var r=t.getElementsByTagName("script")[0];r.parentNode.insertBefore(e,r)}(document)}else"universal"===e?(!function(t,e,n,r,o,i,a){t.GoogleAnalyticsObject=o,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,i=e.createElement(n),a=e.getElementsByTagName(n)[0],i.async=1,i.src="https://www.google-analytics.com/analytics.js",a.parentNode.insertBefore(i,a)}(window,document,"script",0,"ga"),ga("create",r,"auto"),n&&ga("require","displayfeatures"),ga("send","pageview")):gtag("config",r,{send_page_view:!0})}},loadGoogleAPI=function(t,e){if(!LOCAL){!function(t,e,n,r,o,i,a){(i=e.createElement(n)).appendChild(e.createTextNode("{parsetags:'explicit',lang:'${lang}'}")),a=e.getElementsByTagName(n)[0],i.async=1,i.src=r,a.parentNode.insertBefore(i,a)}(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//apis.google.com/js/platform.js");var n=30,r=function(){"undefined"==typeof gapi?n--?setTimeout(r,200):"console"in window&&console.log("Google Plus API failed to load!"):setTimeout(function(){gapi[e].go()},200)};t&&r()}},loadFacebookAPI=function(t,e){LOCAL||(window.fbAsyncInit=function(){typeof jQuery!==UNDEF&&jQuery(".social-links").trigger("updateLinks")},function(n,r,o){var i,a=n.getElementsByTagName(r)[0];n.getElementById(o)||((i=n.createElement(r)).id=o,i.src="https://connect.facebook.net/"+(e||"en_US")+"/sdk.js#xfbml=1&version=v3.0&appId="+xDecrypt(t),a.parentNode.insertBefore(i,a))}(document,"script","facebook-jssdk"))},loadDisqusAPI=function(t){LOCAL||function(e,n){(n=e.createElement(n)).async=1,n.src="https://"+xDecrypt(t)+".disqus.com/embed.js",n.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(n)}(document,"script")},loadPinterestAPI=function(){LOCAL||function(t,e){(e=t.createElement(e)).async=1,e.src="https://assets.pinterest.com/js/pinit.js",(t.head||t.body).appendChild(e)}(document,"script")},loadAPIs=function(t,e){if(t&&!isEmpty(t))for(var n in t)if(typeof e===UNDEF||e[n])switch(n){case"googleAnalytics":loadGoogleAnalytics(t[n][0],t[n][1],t[n][2]);break;case"googlePlus":loadGoogleAPI(t[n][0],t[n][1]);break;case"facebook":loadFacebookAPI(t[n][0]);break;case"disqus":loadDisqusAPI(t[n][0]);break;case"pinterest":loadPinterestAPI()}},askTrackingConsent=function(t,e){if(e&&!isEmpty(e)||t.cookiePolicy){t=$.extend({},{stay:15},t),e=e||{};var n=getTranslations({cookiePolicyText:"This album is using cookies to remember your preferences. It does not track you, neither it stores personal data.",cookiePolicyLearnMore:"Learn more",cookiePolicyAgree:"Got it",gdprComplianceText:"This site is using the following external services that might track your visits anonymously. Disabling tracking will stop their functionality.",allowAll:"Allow all",denyAll:"Deny all",allowSelected:"Allow selected"}),r=$.cookie("trackingConsent"),o=!1,i=!1,a="icon-checkbox-checked",s="icon-checkbox-unchecked",c=function(t){var e=$(t.target),n=e.hasClass(a);e.toggleClass(a,!n).toggleClass(s,n),l()},l=function(){var t=$("#trackingConsent span."+a).length>0;$("#allow,#deny").toggle(!t),$("#allowsel").toggle(t)},u=function(t){var n,r=$("#trackingConsent span");return n=$.extend({},$.cookie("trackingConsent"),{cookie:1}),"allow"===this.id?r.each(function(){$(this).removeClass(s).addClass(a),n[$(this).attr("id")]=1}):"deny"===this.id?r.each(function(){$(this).removeClass(a).addClass(s),n[$(this).attr("id")]=0}):"allowsel"===this.id&&r.each(function(t){n[$(this).attr("id")]=$(this).hasClass(a)}),$.cookie("trackingConsent",n,31622400),d(),loadAPIs(e,n),!1},d=function(){$("#cookiepolicy").fadeOut(500,function(){$(this).remove()})};if(r?(o=!function(){for(var t in e)if(!r.hasOwnProperty(t))return!1;return!0}(),i=t.cookiePolicy&&!r.hasOwnProperty("cookie")):o=i=!0,o||loadAPIs(e,r),o||i){var p,g=$("<div>",{id:"cookiepolicy"}).appendTo($("body"));if(g.append($("<a>",{class:"close",html:"&times;"}).on("click",d)),i&&(p=$("<p>",{id:"cookiePolicy",html:n.cookiePolicyText}).appendTo(g),o||(p.append($("<a>",{id:"agree",class:"btn",text:n.cookiePolicyAgree}).on("click",u)),t.cookiePolicyUrl&&p.append(" ").append($("<a>",{text:n.cookiePolicyLearnMore,target:"_blank",href:t.cookiePolicyUrl})))),o){p=$("<p>",{id:"trackingConsent",html:n.gdprComplianceText}).appendTo(g);for(var h in e)p.append($("<span>",{id:h,class:r&&r[h]?a:s,html:"&nbsp;"+h.capitalize()}).on("click",c));p.append($("<a>",{id:"allow",class:"btn",text:n.allowAll}).on("click",u)),p.append($("<a>",{id:"deny",class:"btn",text:n.denyAll}).on("click",u)),p.append($("<a>",{id:"allowsel",class:"btn",text:n.allowSelected}).on("click",u)),l(),t.cookiePolicyUrl&&p.append(" ").append($("<a>",{text:n.cookiePolicyLearnMore,target:"_blank",href:t.cookiePolicyUrl}))}g.fadeIn(500),setTimeout(function(){$("#cookiepolicy").fadeOut(500,function(){$(this).remove()})},1e3*t.stay)}}},NOLINK="javascript:void(0)",LOCALSTORAGE=hasLocalStorage(),HISTORY=hasHistory(),VEND=getVendor(),TOUCH=getTouch(),TOUCHENABLED=isTouchEnabled(),HIDPI=matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2), (min-resolution: 192dpi)").matches;HASPDFVIEWER=hasPDFViewer(),addClass(document.getElementsByTagName("html")[0],(TOUCHENABLED?"":"no-")+"touch"),addClass(document.getElementsByTagName("html")[0],(HIDPI?"":"no-")+"hidpi");var log=function(){},DEBUG=void 0!==DEBUG&&DEBUG;!function(t,e){"use strict";var n,r,o=!1,i=1;log=function(e){var a=function(e){if(t.isArray(e)){for(var n="",r=0;r<e.length;r++)n+=a(e[r])+", ";return"[ "+n.substring(0,n.length-2)+" ]"}if("object"==typeof e){n="";for(var r in e)n+=r+": "+a(e[r])+",<br>";return"{ "+n+" }"}return isNaN(e)?e:parseInt(e)===e?e:e.toFixed(4)};DEBUG&&!o&&(n||(n=t('<div id="log" style="position:fixed;left:0;top:0;width:200px;bottom:0;overflow:auto;padding:10px;background-color:rgba(0,0,0,0.5);color:#fff;font-size:0.75em;z-index:999999"></div>').hover(function(){o=!0},function(){o=!1}).appendTo("body")),e===r?n.children(":first").empty().html(r+" <sup>("+ ++i+")</sup>"):(t('<div style="height:3em;overflow:auto;">'+a(e)+"</div>").prependTo(n),r=e,i=1))},t.fn.logEvents=function(e){if(DEBUG){var n=e||"mousedown mouseup mouseover mouseout mousewheel wheel dragstart click blur focus load unload reset submit change abort cut copy paste selection drag drop orientationchange touchstart touchmove touchend touchcancel pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp gesturestart gesturechange gestureend";return this.each(function(){t(this).on(n,function(t){return void 0===t?log("Undefined event"):t.target?"log"!==t.target.id&&log(t.type+' <span style="padding:0 4px;font-size:0.75em;background-color:#000;border-radius:4px;"><b>'+(t.target.nodeName?t.target.nodeName.toLowerCase():"???")+"</b>"+(t.target.id?":"+t.target.id:"")+"</span>"+(t.relatedTarget?' <span style="padding:0 4px;font-size:0.6em;background-color:#800;border-radius:4px;"><b>'+t.relatedTarget.nodeName.toLowerCase()+"</b>"+(t.relatedTarget.id?":"+t.relatedTarget.id:"")+"</span>":"")):log("No event target!"),!0})})}},t.fn.logCss=function(e,n,r){if(DEBUG){r=r||20,n=n||2e3;var o=new Date;return this.each(function(){var i=t(this),a=function(t){var e=new Date-o;log(e+"&nbsp;::&nbsp;"+t+" = "+i.css(t)),e>n&&clearInterval(s)},s=setInterval(function(){if(t.isArray(e))for(var n=0;n<e.length;n++)a(e[n]);else a(e)},r)})}},void 0===t.when.all&&(t.when.all=function(e){var n=new t.Deferred;return t.when.apply(t,e).then(function(){n.resolve(Array.prototype.slice.call(arguments))},function(){n.fail(Array.prototype.slice.call(arguments))}),n}),t.fn.waitAllImg=function(e,n,r){if(!this.length)return this;var o=t(this),i=[];return function(e){return e.filter('img[src!=""]').each(function(){i.push(function(e){var n=new t.Deferred,r=new Image;return r.onload=function(){n.resolve(e)},r.onerror=function(){n.reject(new Error("Image not found: "+e.src))},r.src=e.src,n}(this))}),t.when.all(i)}(o).then(function(e){t.isFunction(n)&&n.call(e)},function(e){t.isFunction(r)&&r.call(e)}).then(function(){t.isFunction(e)&&e.call(o)}),this};var a=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement};t.fn.fullScreen=function(t){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)&&(void 0===t?a():void(t?function(t){a()||(t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&document.body.msRequestFullscreen())}(this[0]):a()&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen())))}}(jQuery);
var J={ALBUM:"album",FOLDERS:"folders",NAME:"name",PATH:"path",THUMB:"thumb",IMAGE:"image",WIDTH:"width",HEIGHT:"height",ORIGINAL:"original",FOLDERS:"folders",OBJECTS:"objects",FILEDATE:"fileDate",COMMENT:"comment",TITLE:"title",COUNTERS:"counters",DEEPCOUNTERS:"deepCounters",FILESIZE:"fileSize",CATEGORY:"category",KEYWORDS:"keywords",CAMERA:"camera",VIDEO:"video",LEVEL:"level",PATHREF:"pathRef",PARENTREF:"parentRef",RELPATH:"relPath",IMAGECAPTION:"imageCaption",THUMBCAPTION:"thumbCaption",PHOTODATA:"photodata",LOCATION:"location",REGIONS:"regions",SHOP:"shop",EXTERNAL:"external",PROJECTIONTYPE:"projectionType",MODIFIEDDAYS:"modifiedDays",EPOCHDATE:"epochDate",EPOCHDATERANGE:"epochDateRange",MOSTPHOTOS:"mostphotos",OBJ:"obj",LOADCOUNTER:"loadcounter",TOTAL:"total",INDEX:"index"},Album=function(e,t){var n,r,o,a,l,s={treeFile:"tree.json",dataFile:"data1.json",deepDataFile:"deep-data.json",indexName:"index.html",folderImageFile:"folderimage.jpg",folderImageDims:[1200,800],folderThumbFile:"folderthumb.jpg",folderThumbDims:[600,420],thumbDims:[240,180],slidesDir:"slides",hiresDir:"hi-res",rootPath:"",audioPoster:"audio.png",videoPoster:"video.png",relPath:"",lazy:!0,possibleTypes:["folder","webPage","webLocation","image","video","audio","other"]},u=getTranslations({and:"and"}),f={},c=[],h=[],E=function(e){if("video"===e[J.CATEGORY]){var t=e[J.VIDEO][J.PATH];return decodeURIComponent(t.substring(t.lastIndexOf("/")+1))}return e.hasOwnProperty(J.ORIGINAL)?decodeURIComponent(e[J.ORIGINAL][J.PATH].replace(s.hiresDir+"/","")):e[J.NAME]},O=function(e){return e.hasOwnProperty(J.CATEGORY)&&-1!=="image.video.audio.other".indexOf(e[J.CATEGORY])},p=function(t){if(!t)return 0;"/"===t.slice(-1)&&"../"!==t.slice(-3)&&(t=t.substring(0,t.length-1));var n=e.inArray(t,c);return n>=0?n+1:c.push(t)},g=function(e){return e?c[e-1]:""},T=function(t){return t?(t--,!e.isNumeric(t)||t<0||t>c.length?(console.log("Error: out of bounds path reference ("+t+")!"),null):P(c[t])):f},D=function(e,t){if(e.hasOwnProperty(J.FOLDERS))for(var n=0,r=e[J.FOLDERS].length;n<r;n++)if(e[J.FOLDERS][n][J.PATH]===t)return e[J.FOLDERS][n];return null},P=function(e){for(var t,n=f,r=e.split("/"),o=0,a=r.length;o<a;o++){if(!(t=D(n,r[o])))return null;n=t}return o===a?n:null},A=function(e){if(typeof e===UNDEF&&(e=r),e===f)return null;var t;return(t=T(e.hasOwnProperty(J.PARENTREF)?e[J.PARENTREF]:e[J.PATHREF]))===e?null:t},y=function(t,n){var r={};do{t.hasOwnProperty(n)&&(r=e.extend({},t[n],r))}while(t=A(t));return r},m=function(e,t){if(t)for(var n in e)n===J.OBJECTS||n===J.ALBUM||t.hasOwnProperty(n)||(t[n]=e[n])},R=function(e,t,n){if(e.hasOwnProperty(J.OBJECTS)){t[J.OBJECTS]=[];for(var r,o=0,a=0,i=e[J.OBJECTS].length;o<i;o++)r=e[J.OBJECTS][o],f[J.LOADCOUNTER][r[J.CATEGORY]]++,f[J.LOADCOUNTER][J.TOTAL]++,"folder"===r[J.CATEGORY]?(t[J.FOLDERS]||(t[J.FOLDERS]=[]),m(r,t[J.FOLDERS][a]),n&&R(r,t[J.FOLDERS][a],!0),(r={})[J.INDEX]=a,a++):(r[J.PATHREF]=t[J.PATHREF],r[J.RELPATH]=t[J.RELPATH]),t[J.OBJECTS].push(r)}},F=function(t,n){if(t){if(t.hasOwnProperty(J.OBJECTS))return e.isFunction(n)&&n.call(this,t),!0;var r=g(t[J.RELPATH]);h||(h=[]),h.push(e.getJSON((r?r+"/":"")+s.dataFile+(s.makeDate?"?"+s.makeDate:"")).done(function(r){m(r,t),R(r,t),e.isFunction(n)&&n.call(this,t)}).fail(function(){console.log('Error loading folder data: "'+(r?r+"/":"")+s.dataFile+'".'),e.isFunction(n)&&n.call(this,t)}))}},L=function(e,t){if(F(e),t&&e.hasOwnProperty(J.FOLDERS))for(var n=0,r=e[J.FOLDERS].length;n<r;n++)L(e[J.FOLDERS][n])},I=function(e){return typeof e===UNDEF&&(e=r),e===f?0:e.hasOwnProperty(J.LEVEL)?e[J.LEVEL]:I(A(e))},w=function(e,t,n){return n?function(e,t){if(t.indexOf(".")>=0){if("album"===(t=t.split("."))[0])return v(t[1]);do{if(e.hasOwnProperty(t[0]))return e[t[0]][t[1]]}while(e=A(e));return null}do{if(e.hasOwnProperty(t))return e[t]}while(e=A(e));return null}(e,t):t.indexOf(".")>0?(t=t.split("."),e.hasOwnProperty(t[0])?e[t[0]][t[1]]:null):e[t]},v=function(e){return f.hasOwnProperty(e)?f[e]:null},S=function(t){var n=e("<div>").css({position:"fixed",width:"80%",maxWidth:"600px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",padding:"1em",backgroundColor:"#a00",color:"#e8e8e8"}).append(e("<h5>",{text:"Error"}).css({color:"#f63"})).append(e("<p>",{html:t}).css({marginBottom:0})).appendTo(e("body"));n.find("a").css({color:"#fff",textDecoration:"underline"}),setTimeout(function(){n.fadeOut(function(){n.remove()})},6e3)};return t&&(DEBUG&&console.log("new Album("+JSON.stringify(t)+");"),function(t){if(n)return n;n=new Date,typeof t!==UNDEF&&e.extend(s,t),a=l=!1,"."===s.rootPath&&(s.rootPath="");(function(t){e.getJSON((s.rootPath?s.rootPath+"/":"")+s.treeFile+(s.makeDate?"?"+s.makeDate:"")).done(function(n){(f=n)[J.LOADCOUNTER]={},f[J.LOADCOUNTER][J.TOTAL]=0;for(var o=0;o<s.possibleTypes.length;o++)f[J.LOADCOUNTER][s.possibleTypes[o]]=0;null===(r=function(e){return e?("/"===e.slice(-1)&&(e=e.slice(0,-1)),P(e)):f}(s.relPath))&&(console.log("Error: can't find folder \""+s.relPath+'" in the database!'),S((location.protocol,'Check if you\'ve allowed jAlbum to process the subdirectories and "Make album" again!'))),function(){var e=function(t,n,o){t[J.LEVEL]=n,o=o.length&&"/"!==o.slice(-1)?o+"/":o;var a=n?t[J.PATH]:"";t[J.PATHREF]=p(o+a),t[J.PARENTREF]=n?p(o):null;var i;if(i=s.relPath.length?t===r?"":0===o.indexOf(a+"/")?a.substring(s.relPath.length):s.rootPath+"/"+(o+a):o+a,t[J.RELPATH]=p(i),t.hasOwnProperty(J.FOLDERS)){pr=p(o);for(var l=0,u=t[J.FOLDERS].length;l<u;l++)e(t[J.FOLDERS][l],n+1,o+a)}};e(f,0,"")}(),e.isFunction(t)&&t.call(this)}).fail(function(){console.log('Fatal error! Missing or access denied to "'+s.treeFile+'".'),S("file:"===location.protocol?'Local access to the album\'s database file is blocked by your browser. This will not affect the uploaded album! Use jAlbum\'s built-in browser or FireFox for testing, or <a href="https://jalbum.net/forum/ann.jspa?annID=172" target="_blank">read here</a> how to test albums in other browsers!':"The album's main database file is missing or broken! If you're the owner <a href=\"https://jalbum.net/forum/ann.jspa?annID=177\">read how you can fix this</a>."),e.isFunction(t)&&t.call(this)})})(function(){h=[],L(s.lazy?r:f,!s.lazy),e.when.apply(e,h).done(function(){var t=new Date;DEBUG&&console.log(h.length+" folder(s) loaded: "+(t-n)+"ms"),a=!0,h=null,o=r&&r.hasOwnProperty(J.OBJECTS)?0:null,e.isFunction(s.ready)&&s.ready.call(this),s.loadDeep&&f.hasOwnProperty(J.FOLDERS)?function(){var t=new Date,n=(s.rootPath?s.rootPath+"/":"")+s.deepDataFile+(s.makeDate?"?"+s.makeDate:"");e.getJSON(n).done(function(n){R(n,f,!0),l=!0,DEBUG&&console.log("Deep data loaded: "+(new Date-t)+"ms total: "+f[J.LOADCOUNTER][J.TOTAL]+" objects"),e.isFunction(s.deepReady)&&s.deepReady.call(this)}).fail(function(){l=!1,DEBUG&&console.log('Error loading deep data: "'+n+'".'),e.isFunction(s.deepReady)&&s.deepReady.call(this)})}():e.isFunction(s.deepReady)&&s.deepReady.call(this)})})}(t)),{isReady:function(){return a},collectTags:function(t){var t=e.extend({fields:"creator,keywords,folder:title,webLocation:title",types:"all",depth:"current",exact:"creator,keywords,name"},t),n=[],o=e.isArray(t.fields)?t.fields:t.fields.split(/,\s?/),a=o.length,i="name"===t.sort,l="all"===t.types,u={},c={},E=function(e,t){if(e){var r,o;c[t]?o=[e.toString()]:("comment"===t&&(e=e.stripHTML()),o=e.split(/[\s,\.\!\?\(\)]+/),o=removeEmpty(o));for(var a=0,i=o.length;a<i;a++)if(!((r=o[a].trim()).length<=2)){for(var l=0,s=n.length;l<s&&n[l][0]!==r;l++);l===s?n.push([r,1]):n[l][1]++}}},O=function(t,n){for(var r,i=0,l="";i<a;i++){if(o[i].length>1){if(o[i][0]!==n)continue;r=o[i][1]}else r=o[i][0];if(t.hasOwnProperty(r)&&t[r])if(e.isArray(t[r]))for(var s=0;s<t[r].length;s++)l&&-1!==l.indexOf(t[r][s]+"@")||(E(t[r][s],r),l+=t[r][s]+"@");else l&&-1!==l.indexOf(t[r]+"@")||(E(t[r],r),l+=t[r]+"@")}},d=function(e){if(e&&((l||u.folder)&&O(e,"folder"),e.hasOwnProperty(J.OBJECTS)))for(var t,n=0,r=e[J.OBJECTS];n<r.length;n++)t=r[n][J.CATEGORY],(l||u[t])&&O(r[n],t)},p=function(e){if(F(e,d),"current"!==t.depth&&e.hasOwnProperty(J.FOLDERS))for(var n=0,r=e[J.FOLDERS].length;n<r;n++)p(e[J.FOLDERS][n])},g=function(){t.sort&&n.sort(function(e,t){return i?(""+e[0]).localeCompare(""+t[0]):t[1]-e[1]}),t.max&&t.max<n.length&&(n=n.slice(0,t.max))};h=[];for(var T,D=0;D<a;D++)o[D]=o[D].split(":"),T=o[D][1]||o[D][0],c[T]="string"==typeof t.exact?t.exact.indexOf(T)>=0:t.exact;if(!l)for(var D=0,P=s.types.split(/,\s?/);D<P.length;D++)u[P[D]]=!0;p("tree"===t.depth?f:r),e.isFunction(t.ready)&&(h.length?e.when.apply(e,h).done(function(){g(),t.ready.call(n,t)}):(g(),t.ready.call(n,t)))},collectItems:function(t){if(typeof t!==UNDEF&&t.hasOwnProperty("terms")){var n,o,a=[],i=(t=e.extend({fields:"creator,keywords,title,comment,name",types:"all",depth:"current",exact:!1},t)).fields.split(/,\s?/),l=i.length,c=new Array(l),E=!1,O="all"===t.types,d={},p=function(t,r){var s=E?new Array(o):null;matchKey=function(e,t,r){if("string"==typeof t)for(var i=0;i<o;i++)if(r&&n[i].testMatch(t)||!r&&n[i].testIn(t)){if(!E)return a.push(e),!0;s[i]=!0}return!1};for(var u,f,h,O=0;O<l;O++){if(i[O].length>1){if(i[O][0]!==r)continue;f=i[O][1]}else f=i[O][0];if(t.hasOwnProperty(f))if(e.isArray(t[f]))for(u=0;u<t[f].length&&(h=matchKey(t,t[f][u],c[f]),E||!h);u++);else if(h=matchKey(t,t[f],c[f]),!E&&h)break}E&&allTrue(s)&&a.push(t)},g=function(e){if(e&&(e!==f&&(O||d.folder)&&p(e,"folder"),e.hasOwnProperty(J.OBJECTS)))for(var t=0,n=e[J.OBJECTS];t<n.length;t++)cat=n[t][J.CATEGORY],(O||d[cat])&&p(n[t],cat)},T=function(e){if(F(e,g),"current"!==t.depth&&e.hasOwnProperty(J.FOLDERS))for(var n=0,r=e[J.FOLDERS].length;n<r;n++)T(e[J.FOLDERS][n])},D=function(){t.max&&t.max<a.length&&(a=a.slice(0,t.max))};'"'===t.terms[0]&&'"'===t.terms[t.terms.length-1]?(n=t.terms.substring(1,t.terms.length-1),!1===t.exact&&(t.exact=!0)):!1===t.exact?~(n=t.terms.replace(/\s+/g,",")).indexOf(","+u.and+",")&&(n=n.replace(new RegExp(","+u.and+",","gi"),","),E=!0):n=t.terms.trim(),n=t.exact?[n]:removeEmpty(n.split(/,\s?/)),o=n.length;for(var P,A=0;A<l;A++)i[A]=i[A].split(":"),P=i[A][1]||i[A][0],c[P]="string"==typeof t.exact?t.exact.indexOf(P)>=0:t.exact;if(!O)if("-"===s.types.charAt(0))for(A=0;A<s.possibleTypes.length;A++)-1===s.types.indexOf(s.possibleTypes[A])&&(d[s.possibleTypes[A]]=!0);else for(var A=0,y=s.types.split(/,\s?/);A<y.length;A++)d[y[A]]=!0;h=[],T("tree"===t.depth?f:r),e.isFunction(t.ready)&&(h.length?e.when.apply(e,h).done(function(){D(),t.ready.call(a,t)}):(D(),t.ready.call(a,t)))}},collectByDate:function(t){if(typeof t!==UNDEF&&t.hasOwnProperty("range")&&t.hasOwnProperty("ready")){var n,o,a=[],i=function(e){if(e&&e.hasOwnProperty(J.OBJECTS))for(var t,r=e[J.OBJECTS],i=0;i<r.length;i++)if(t=r[i],O(t)){if(t.hasOwnProperty(J.MODIFIEDDAYS))d=t[J.MODIFIEDDAYS];else{if(!t.hasOwnProperty(J.EPOCHDATE))continue;d=t[J.EPOCHDATE]/864e5}d>=n&&d<=o&&a.push(t)}},l=function(e){if(F(e,i),"current"!==t.depth&&e.hasOwnProperty(J.FOLDERS))for(var n=0,r=e[J.FOLDERS].length;n<r;n++)l(e[J.FOLDERS][n])},s=function(){t.sort&&a.sort(function(e,n){return n.hasOwnProperty(J.MODIFIEDDAYS)?t.reverse?e[J.MODIFIEDDAYS]-n[J.MODIFIEDDAYS]:n[J.MODIFIEDDAYS]-e[J.MODIFIEDDAYS]:t.reverse?e[J.EPOCHDATE]-n[J.EPOCHDATE]:n[J.EPOCHDATE]-e[J.EPOCHDATE]}),t.max&&t.max<a.length&&(a=a.slice(0,t.max))};(t=e.extend({sort:!0,reverse:!1,depth:"current"},t)).end?(o=t.end,n=o-t.range):(n=Math.ceil(new Date/864e5),n-=t.hasOwnProperty("start")?t.start:t.range,o=n+t.range),h=[],l("tree"===t.depth?f:r),e.isFunction(t.ready)&&(h.length?e.when.apply(e,h).done(function(){s(),t.ready.call(a,t)}):(s(),t.ready.call(a,t)))}},getTree:function(){return f},getPaths:function(){return c},isImage:function(e){return e.hasOwnProperty(J.CATEGORY)&&"image"===e[J.CATEGORY]},isAudio:function(e){return e.hasOwnProperty(J.CATEGORY)&&"audio"===e[J.CATEGORY]},isVideo:function(e){return e.hasOwnProperty(J.CATEGORY)&&"video"===e[J.CATEGORY]},isLightboxable:O,isCurrentFolder:function(e){return 0===e[J.RELPATH]},getLevel:I,getTitle:function(e){return typeof e===UNDEF&&(e=r),e[J.TITLE]||""},getName:function(e){return typeof e===UNDEF&&(e=r),e[J.NAME]||""},getExtension:function(e){return E(e).getExt()},getComment:function(e){return typeof e===UNDEF&&(e=r),e[J.COMMENT]||""},getMakeDate:function(){return new Date(f[J.FILEDATE])},getAlbumTitle:function(){return f[J.TITLE]||f[J.NAME]},getCurrentFolder:function(){return r},getObjects:function(){return r.hasOwnProperty(J.OBJECTS)?r[J.OBJECTS]:[]},getImages:function(){var e=[];if(r&&r.hasOwnProperty(J.OBJECTS)){var t=r[J.OBJECTS];if(t)for(var n=0,o=t.length;n<o;n++)O(t[n])&&e.push(t[n])}return e},getFolders:function(){var e=[];if(r)if(r.hasOwnProperty(J.FOLDERIDX))for(var t=0,n=r[J.FOLDERIDX].length;t<n;t++)e.push(r[J.OBJECTS][r[J.FOLDERIDX][t]]);else r.hasOwnProperty(J.FOLDERS)&&(e=r[J.FOLDERS]);return e},getFolderPath:function(e){return g(e[J.PATHREF]||0)},getRelativeFolderPath:function(e){return g(e[J.RELPATH]||0)},getParent:A,getItemName:E,getItemPath:function(e){var t=g(e[J.RELPATH]),n=e[J.CATEGORY]||"folder";return t=t.length&&"/"!==t.slice(-1)?t+"/":t,"folder"===n?t:"video"===n?t+e[J.VIDEO][J.PATH]:"audio"===n||"other"===n||e.hasOwnProperty(J.ORIGINAL)?t+e[J.ORIGINAL][J.PATH]:"image"===n?t+e[J.IMAGE][J.PATH]:"webPage"===n?t+e[J.NAME]:e[J.PATH]},getOptimalImage:function(e,t){var n=g(e[J.RELPATH]),r=e[J.CATEGORY]||"folder";return n=n.length&&"/"!==n.slice(-1)?n+"/":n,"folder"===r?n+(t[0]>s.folderThumbDims[0]||t[1]>s.folderThumbDims[1])?s.folderImageFile:s.folderThumbFile:n+(t[0]>s.thumbDims[0]||t[1]>s.thumbDims[1])?e[J.IMAGE][J.PATH]:e[J.THUMB][J.PATH]},getOriginalPath:function(e){if(e.hasOwnProperty(J.ORIGINAL)){var t=g(e[J.RELPATH]);return(t=t.length?t+"/":"")+e[J.ORIGINAL][J.PATH]}return null},getUrl:function(e){var t=g((e=e||r)[J.RELPATH]);return t=(t.length?t+"/":"")+s.indexName,O(e[i])&&(t+="#img="+encodeAsJave(e[J.NAME])),t},getThumbPath:function(e){var t=g(e[J.RELPATH]),n=e[J.THUMB][J.PATH];return function(e){return e.hasOwnProperty(J.LEVEL)}(e)&&(n=n.replace(e[J.PATH]+"/","")),(t.length?t+"/":"")+n},getImagePath:function(e){var t=g(e[J.RELPATH]);return(t=t.length?t+"/":"")+e[J.IMAGE][J.PATH]},getThemeImagePath:function(e){var t=g(e[J.RELPATH]);return(t=t.length?t+"/":"")+s.folderImageFile},getPosterPath:function(e){var t=g(e[J.RELPATH]),n=e[J.CATEGORY]||"folder";return t=t.length?t+"/":"","audio"!==n&&"video"!==n||e[J.IMAGE][J.PATH].startsWith(s.slidesDir+"/")?t+e[J.IMAGE][J.PATH]:(s.rootPath.length?s.rootPath+"/":"")+"res/"+s[n+"Poster"]},getSourcePath:function(e){var t=g(e[J.RELPATH]);return(t.length?t+"/":"")+(e.hasOwnProperty(J.ORIGINAL)?e[J.ORIGINAL][J.PATH]:e[J.IMAGE][J.PATH])},getAbsolutePath:function(e){var t=g(e[J.RELPATH]);return(t.length?t.fullUrl():window.location.href.getDir())+(window.location.href.getFile()||s.indexName)+(e.hasOwnProperty(J.LEVEL)?"":"#img="+encodeURIComponent(E(e)))},getAbsoluteImagePath:function(e){var t=g(e[J.RELPATH]);return(t.length?t.fullUrl():window.location.href.getDir())+e[J.IMAGE][J.PATH]},getPreviousFoldersLastImage:function(t){var n,o=function(e){typeof e===UNDEF&&(e=r);var t=A(e);if(t){var n;if(t.hasOwnProperty(J.FOLDERIDX)){if((n=t[J.FOLDERIDX].findIndex(function(n){return t[J.OBJECTS][n]===e}))>0)return t[J.OBJECTS][t[J.FOLDERIDX][n+1]]}else if(t.hasOwnProperty(J.FOLDERS)&&(n=t[J.FOLDERS].findIndex(function(t){return t===e}))>0)return t[J.FOLDERS][n+1]}return null}();return o&&(o.hasOwnProperty(J.OBJECTS)?(getFirstImage(),t.call(n)):(h=[],F(o,function(e){if(e.hasOwnProperty(J.OBJECTS))for(var t=e[J.OBJECTS],r=t.length-1;r>=0;r--)if(O(t[r]))return void(n=t[r])}),e.isFunction(t)&&(h.length?e.when.apply(e,h).done(function(){t.call(n)}):t.call(n)))),null},getNextFoldersFirstImage:function(t){var n,o=function(e){typeof e===UNDEF&&(e=r);var t=A(e);if(t){var n;if(t.hasOwnProperty(J.FOLDERIDX)){if((n=t[J.FOLDERIDX].findIndex(function(n){return t[J.OBJECTS][n]===e}))<t[J.FOLDERIDX].length)return t[J.OBJECTS][t[J.FOLDERIDX][n+1]]}else if(t.hasOwnProperty(J.FOLDERS)&&(n=t[J.FOLDERS].findIndex(function(t){return t===e}))<t[J.FOLDERS].length)return t[J.FOLDERS][n+1]}return null}(),a=function(e){if(e.hasOwnProperty(J.OBJECTS))for(var t=e[J.OBJECTS],r=0,o=t.length;r<o;r++)if(O(t[r]))return void(n=t[r])};return o&&(o.hasOwnProperty(J.OBJECTS)?(a(),t.call(n)):(h=[],F(o,a),e.isFunction(t)&&(h.length?e.when.apply(e,h).done(function(){t.call(n)}):t.call(n)))),null},getProperty:w,getPropertyObject:function(e,t,n){return n?y(e,t):e.hasOwnProperty(t)?e[t]:null},hasShop:function(e){var t=y(e||f,J.SHOP);return t&&"-"!==t.options},getRootProperty:v,processTemplate:function(e,t){var n,o,t=t||r;if(e&&e.indexOf("${")>0)for(;n=e.match(/\$\{([\w\.]+)\}/);)n[1]&&(o=w(t,n[1],!0)||""),e=e.substring(0,n.index)+o+e.substring(n.index+n[0].length);return e}}};
!function(e){"use strict";var t=function(){try{return localStorage.setItem("_t",VER),localStorage.removeItem("_t"),!0}catch(e){return!1}}();e.cookie=function(e,r,n){var o=function(e){return!!/^(true|yes)$/.test(e)||!/^(false|no)$/.test(e)&&(/^([\d.]+)$/.test(e)?parseFloat(e):e)},i=function(e){if("string"!=typeof e)return e;if("["===e[0]||"{"===e[0]){e=JSON.parse(e);for(var t in e)"string"==typeof t[e]&&(t[e]=o(t[e]));return e}return o(e)};if(arguments.length>1){a=new Date;return null===r?t?localStorage.removeItem(e):document.cookie=encodeURIComponent(e)+"=; expires="+a.toGMTString()+"; path=/":(r="object"==typeof r?JSON.stringify(r):String(r),a.setTime(a.getTime()+1e3*("number"!=typeof n?3600:n)),t?localStorage.setItem(e,r+"; @"+String(a.getTime())):document.cookie=encodeURIComponent(e)+"="+r+"; expires="+a.toGMTString()+"; path=/"),r}if(e)if(t){if(l=localStorage.getItem(e)){if(1===(l=l.split("; @")).length&&(l=l[0].split("; ")),!(l.length>1))return i(l);var a;if((a=new Date).getTime()<parseInt(l[1],10))return i(l[0]);localStorage.removeItem(e)}}else{var l,s=document.cookie.split(/;\s*/);e+="=";for(var u=0;u<s.length;u++)if(s[u].substring(0,e.length)===e)return i(s[u].substring(e.length))}return null}}(jQuery);
!function(o){"use strict";o.fn.scrollToTopBtn=function(){var t,l=getTranslations({scrollTopTooltip:"Top"}),n="lst_"+Math.floor(1e4*Math.random()),r=o("<a>",{class:"large button icon-arrow-up",id:"scrollup",role:"button"}).appendTo(o(this).eq(0)),i=function(l){return t=null,o(window).scrollTop()>0?r.is(":hidden")&&r.fadeIn(500):r.fadeOut(500),!0};return l.scrollTopTooltip&&r.addTooltip(l.scrollTopTooltip,{touchToggle:!1,pos:[2,1,0,1]}),o(window).on("scroll."+n,function(){clearTimeout(t),t=setTimeout(i,100)}),r.on("click."+n,function(){return o("body, html").animate({scrollTop:0},500),r.trigger("removeTooltip"),!1}),this}}(jQuery);
!function(e){"use strict";e.fn.renderShares=function(t){t=e.extend({},e.fn.renderShares.defaults,t);var a=e(this),n=getTranslations({share:"Share",shareOn:"Share on",checkOutThis:"Found this page",localWarning:"Can't share local albums. Please upload your album first!"}),i=encodeURIComponent(t.callAction||n.checkOutThis),o=(t.label||n.share,function(n,o){if((o=typeof o!==UNDEF?e.extend({},t,o):t).hasOwnProperty("href")||(o.href=window.location.href),o.hasOwnProperty("description")?o.description=o.description.stripHTML():o.description=e("meta[name=description]").attr("content")||"",o.hasOwnProperty("title")?o.title=o.title.stripHTML():o.title=e("meta[name=title]").attr("content")||e("title").text()||"",!o.hasOwnProperty("image")){var r=e("link[rel=image_src]");o.image=r.length?r.attr("href"):window.location.href.getDir()+"folderthumb.jpg"}o.image.startsWith("http")||(o.image=window.location.href.getDir()+o.image);var s,l=encodeURIComponent(o.href),c=encodeURIComponent(o.title),d=encodeURIComponent(o.description),p=encodeURIComponent(o.image);a.find("."+t.className+" a").each(function(){var t=e(this);switch(t.data("share")){case"facebook":if(o.href.indexOf("#")>0)return;if(typeof FB!==UNDEF)return void t.off(".share").on("click.share",function(){return FB.ui({method:"feed",link:o.href,caption:o.title,description:o.description,picture:o.image}),!1});s="https://www.facebook.com/sharer.php?s=100&p%5Burl%5D="+o.href+"&p%5Bimages%5D%5B0%5D="+o.image+"&p%5Btitle%5D="+c;break;case"twitter":s="https://twitter.com/home?status="+c+": "+l;break;case"googlePlus":s="https://plus.google.com/share?url="+l;break;case"tumblr":s="https://www.tumblr.com/share/link?url="+l+"&name="+c;break;case"pinterest":s="https://pinterest.com/pin/create/button/?url="+l+"&media="+p+"&description="+c;break;case"linkedin":s="https://www.linkedin.com/shareArticle?mini=true&url="+l+"&title="+c+"&summary="+d;break;case"digg":s="https://digg.com/submit?url="+o.href;break;case"stumbleupon":s="https://www.stumbleupon.com/submit?url="+o.href+"&title="+c;break;case"reddit":s="https://www.reddit.com/submit?url="+o.href;break;case"email":t.attr({href:"mailto:?subject="+i+"&body="+c+"%0D%0A"+d+"%0D%0A"+encodeURI(o.href)});default:return}t.attr({href:s,target:"_blank"})})});return function(i){for(var r,i=e("<div>",{class:t.className}).appendTo(a),s=t.sites.split(","),l=0;l<s.length;l++)r=s[l],"facebook,twitter,googlePlus,tumblr,pinterest,linkedin,digg,stumbleupon,reddit,email".indexOf(r)>=0&&i.append(e("<a>",{class:"button icon-"+r.unCamelCase(),title:n.shareOn+" "+r.capitalize(),text:" "+(t.buttonLabels?r.capitalize():"")}).data("share",r));o(),i.children("a").addTooltip()}(),t.hasOwnProperty("buttons")&&!LOCAL&&function(){for(var n=t.buttons.split(","),i=encodeURIComponent(window.location.href.split("#")[0]),o=encodeURIComponent(t.title||e("meta[name=title]").attr("content")||e("title").text()),r=t.image?window.location.href.getDir()+encodeURIComponent(t.image):e("link[rel=image_src]").attr("href"),s=e("<div>",{class:t.buttonsClassName}).appendTo(a),l=0;l<n.length;l++)switch(n[l]){case"facebook":s.append('<div class="likebtn fb-like" data-href="'+i+'" data-layout="button_count" data-action="like" data-size="large" data-show-faces="false" data-share="false"></div>');break;case"twitter":s.append('<a class="likebtn twitter-share-button icon-twitter" href="https://twitter.com/intent/tweet?text='+o+"&url="+i+'" data-size="large" target="_blank"> Tweet</a>');break;case"google":var c=e('<div class="likebtn"></div>').appendTo(s),d=30,p=function(){"undefined"==typeof gapi?d--?setTimeout(p,200):"console"in window&&console.log("Google Plus API failed to load!"):setTimeout(function(){gapi.plusone.render(c[0],{size:"standard",annotation:"bubble"})},200)};c=e('<span class="g-plusone" data-href="'+i+'"></span>').appendTo(c),p();break;case"pinterest":s.append('<div class="likebtn"><a data-pin-do="buttonPin" data-pin-count="beside" data-pin-tall="true" data-pin-save="true" href="https://www.pinterest.com/pin/create/button/?url='+i+"&media="+r+"&description="+o+'" data-pin-do="buttonPin"></a></div>')}}(),a.closest(".modal").length&&a.find("."+t.className+" a").on("click",function(){return e(this).closest(".modal").trigger("close"),!0}),a.on("updateLinks",o),this},e.fn.renderShares.defaults={buttonLabels:!0,className:"shares",buttonsClassName:"buttons",sites:"facebook,twitter,googlePlus,tumblr"}}(jQuery);
!function(t,o,i,n){"use strict";var e,s,a=function(){var t=(i.body||i.documentElement).style;if(void 0!==t.webkitTransition)e="-webkit-",s="webkitTransitionEnd";else if(void 0!==t.MozTransition)e="-moz-",s="transitionend";else if(void 0!==t.OTransition)e="-o-",s="oTransitionEnd";else{if(void 0===t.transition)return!1;e="",s="transitionend"}return!0}(),r={left:0,top:0,center:.5,middle:.5,right:1,bottom:1};t.fn.translateX=function(o,i,n){var r={};if(typeof o===UNDEF){var f=t(this).eq(0);return a?f.position().left-parseFloat(f.css("left")):f.position().left-f.data("leftPos")||0}return a&&(r[e+"transform"]="translateX("+o+"px)",r[e+"transition"]=e+"transform"+(i?" "+i+"ms ease-out":"")),this.each(function(){var e=t(this);if(a)"function"==typeof n&&e.one(s,n),e.css(r);else{var f=e.data("leftPos");void 0===f&&e.data("leftPos",f=e.position().left),r.left=f+o,i?e.animate(r,i,n):("function"==typeof n&&setTimeout(function(){n.call(e[0])},50),e.css(r))}})},t.fn.translate=function(o,i,n){var r={};if(typeof o===UNDEF){var f=t(this).eq(0);return a?[f.position().left-parseFloat(f.css("left")),f.position().top-parseFloat(f.css("top"))]:[f.position().left-f.data("leftPos")||0,f.position().top-f.data("topPos")||0]}return a&&(r[e+"transform"]="translate("+o[0]+"px,"+o[1]+"px)",r[e+"transition"]=e+"transform"+(i?" "+i+"ms ease-out":"")),this.each(function(){var e=t(this);if(a)"function"==typeof n&&e.one(s,n),e.css(r);else{var f=e.data("leftPos");top=e.data("topPos"),void 0===f&&e.data("leftPos",f=e.position().left),void 0===top&&e.data("topPos",top=e.position().top),r.left=f+o[0],r.top=top+o[1],i?e.animate(r,i,n):("function"==typeof n&&setTimeout(function(){n.call(e[0])},50),e.css(r))}})},t.fn.translateXAndFade=function(o,i,n,r){var f={opacity:i};return a&&(f[e+"transform"]="translateX("+o+"px)",f[e+"transition-property"]=e+"transform, opacity",f[e+"transition-duration"]=n+"ms",f[e+"transition-timing-function"]="ease-out"),this.each(function(){var i=t(this);if(a)"function"==typeof r&&i.one(s,r),i.css(f);else{var e=i.data("leftPos");void 0===e&&i.data("leftPos",e=i.position().left),f.left=e+o,n?i.animate(f,n,r):(i.css(f),"function"==typeof r&&setTimeout(function(){r.call(i[0])},50))}})},t.fn.translateAndFade=function(o,i,n,r){var f={opacity:i};return a&&(f[e+"transform"]="translate("+o[0]+"px,"+o[1]+"px)",f[e+"transition-property"]=e+"transform, opacity",f[e+"transition-duration"]=n+"ms",f[e+"transition-timing-function"]="ease-out"),this.each(function(){var i=t(this);if(a)"function"==typeof r&&i.one(s,r),i.css(f);else{var e=i.data("leftPos"),c=i.data("topPos");void 0===e&&i.data("leftPos",e=i.position().left),void 0===c&&i.data("topPos",c=i.position().top),f.left=e+o[0],f.top=c+o[1],n?i.animate(f,n,r):(i.css(f),"function"==typeof r&&setTimeout(function(){r.call(i[0])},50))}})},t.fn.opacity=function(o,i,n,r,f){var c=t(this);if(void 0===o||"boolean"==typeof o)return c.css("opacity");var p=!1,l={},u=function(){p||(p=!0,t.isFunction(f)&&f.call(c[0]))};return t.isFunction(i)?(f=i,n="ease-out",i=void 0):t.isFunction(n)?(f=n,n="ease-out"):t.isFunction(r)&&(f=r,r=!1),"boolean"==typeof n&&(r=n,n="ease-out"),"boolean"==typeof i&&(r=i,i=void 0),c.css("opacity")===o?(t.isFunction(f)&&setTimeout(function(){f.call(c[0])},50),this):(l.opacity=o,a&&!r?i?(l[e+"transition"]="opacity "+i+"ms "+n,c.one(s,u),setTimeout(u,i+50),c.css(l)):(l[e+"transition"]="none",c.css(l),t.isFunction(f)&&setTimeout(function(){f.call(c[0])},50)):i?c.animate(l,i,u):(c.css(l),t.isFunction(f)&&setTimeout(function(){f.call(c[0])},50)),this)},t.fn.transform=function(o,i,n,f,c){var p=t(this).eq(0),l=p.data("transform")||{origo:[0,0],position:[0,0],origin:[.5,.5],baseSize:[p.width(),p.height()],baseScale:[1,1],scale:[1,1],rotate:0};if("object"!=typeof o)return l;arguments.length>1?("function"==typeof i?(c=i,n="ease-out",i=void 0):"function"==typeof n?(c=n,n="ease-out"):"function"==typeof f&&(c=f,f=!1),"boolean"==typeof n&&(f=n,n="ease-out"),"boolean"==typeof i&&(f=i,i=void 0)):n="ease-out";var u,d=!1,m={},y=function(){setTimeout(function(){d||(d=!0,"function"==typeof c&&c.call(p[0]))},20)};if(void 0!==o.opacity&&(m.opacity=o.opacity),o.origo){if(!a||f){var g=p.data("originalPosition");g||(g=[p.position().left,p.position().top],p.data("originalPosition",g)),o.origo[0]+=g[0],o.origo[1]+=g[1]}}else o.origo=l.origo;return o.baseScale?"number"==typeof o.baseScale&&(o.baseScale=[o.baseScale,o.baseScale]):o.baseScale=l.baseScale,o.baseSize?o.scale||o.size||(o.scale=[1,1]):o.baseSize=l.baseSize,o.position?(void 0===o.position[0]&&(o.position[0]=l.position[0]),void 0===o.position[1]&&(o.position[1]=l.position[1])):o.position=l.position,o.origin?("string"==typeof o.origin[0]&&(o.origin[0]=r[o.origin[0]]),"string"==typeof o.origin[1]&&(o.origin[1]=r[o.origin[1]])):o.origin=l.origin,o.scale?"number"==typeof o.scale&&(o.scale=[o.scale,o.scale]):o.size?o.scale=[o.size[0]/o.baseSize[0],o.size[1]/o.baseSize[1]]:o.scale=l.scale,u=[o.scale[0]*o.baseScale[0],o.scale[1]*o.baseScale[1]],p.data("transform",o),a&&!f?(o.origin[0]===l.origin[0]&&o.origin[1]===l.origin[1]||(m[e+"transform-origin"]=100*o.origin[0]+"% "+100*o.origin[1]+"%"),m[e+"transform"]="translate("+(o.origo[0]+o.position[0])+"px,"+(o.origo[1]+o.position[1])+"px)"+(1===u[0]&&1===u[1]?"":" scale("+u[0]+","+u[1]+")")+(o.rotate?" rotate("+o.rotate+"deg)":""),i?(m[e+"transition-property"]=e+"transform"+(void 0!==o.opacity?", opacity":""),m[e+"transition-duration"]=i+"ms",n&&(m[e+"transition-timing-function"]=n),"function"==typeof c&&(p.one(s,y),setTimeout(y,i+50)),p.css(m)):(m[e+"transition"]="none",p.css(m),"function"==typeof c&&setTimeout(function(){c.call(p[0])},50))):(m.left=o.origo[0]+o.position[0],m.top=o.origo[1]+o.position[1],void 0!==o.size?(m.width=o.size[0],m.height=o.size[1]):(m.width=o.baseSize[0]*u[0],m.height=o.baseSize[1]*u[1],m.left-=(m.width-o.baseSize[0])*o.origin[0],m.top-=(m.height-o.baseSize[1])*o.origin[1]),i?p.animate(m,i,c):(p.css(m),"function"==typeof c&&setTimeout(function(){c.call(p[0])},50))),this}}(jQuery,window,document);
!function(e,t,n,o){"use strict";e.fn.swipe=function(o){o=e.extend({onSwipedLeft:!1,onSwipedRight:!1,onSmallSwipe:!1,onClick:!1,onFinished:!1,treshold:20,swipeoutSpeed:300,overTreshold:.25},o);var a=function(e){return[e.outerWidth(),e.outerHeight()]},i=function(e){return e.touches&&1===e.touches.length?[Math.round(e.touches[0].pageX),Math.round(e.touches[0].pageY)]:null!==e.clientX?[Math.round(e.pageX),Math.round(e.pageY)]:null},r=function(e){return e.touches&&1===e.touches.length?Math.round(e.touches[0].pageX):null!==e.pageX?Math.round(e.pageX):null};return this.each(function(){var u,s,l,d,p,h,c,f=e(this),g=f.parent(),w=f.data("lsw_ns")||"lsw_"+Math.floor(1e4*Math.random()),m=!0,v=null,S=f.hasClass("audio")||f.hasClass("video"),T=function(e){return!!(e.originalEvent.touches&&e.originalEvent.touches.length>1)||(e.preventDefault(),m?(h=r(e.originalEvent)-p,f.translateX(c+h)):((h=i(e.originalEvent))[0]-=p[0],h[1]-=p[1],f.translate([c[0]+h[0],c[1]+h[1]])),!1)},y=function(t){if(f.data("swipeEnded"))return!0;t.preventDefault(),f.data("swipeEnded",!0);var a=(new Date).getTime()-d,i=1+o.swipeoutSpeed/a,r=function(){"function"==typeof o.onFinished&&o.onFinished.call(f[0],t)},l=function(){h&&"function"==typeof o.onSmallSwipe&&o.onSmallSwipe.call(f[0],t),"function"==typeof o.onClick&&o.onClick.call(f[0],t)},p=function(e){e?"function"==typeof o.onSwipedRight&&o.onSwipedRight.call(f[0],t):"function"==typeof o.onSwipedLeft&&o.onSwipedLeft.call(f[0],t)};if("mouseup"===t.type||"mouseout"===t.type?(n.off("mousemove."+w),f.off("mouseup."+w+" mouseout."+w)):"pointerup"===t.type&&f.off("pointermove."+w+" pointerup."+w),f.data("taplength",a),m)if(Math.abs(h)>o.treshold){S=c+h*i;s[0]>=u[0]||h>0&&S-u[0]/2>s[0]*(o.overTreshold-.5)||S+u[0]/2<s[0]*(.5-o.overTreshold)?(f.data("scrolling",!1),f.translateXAndFade(S,0,o.swipeoutSpeed),v=setTimeout(r,o.swipeoutSpeed+20),p(h>0)):f.translateX(S,o.swipeoutSpeed)}else h&&f.translateX(0,100),l();else if(function(t){return e.isArray(t)?Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)):Math.abs(t)}(h)>o.treshold){var g=parseInt(f.css("top")),S=[c[0]+h[0]*i,h[1]>0?Math.min(-g,c[1]+h[1]*i):Math.max(-g+s[1]-u[1],c[1]+h[1]*i)];h[0]>0&&S[0]-u[0]/2>s[0]*(o.overTreshold-.5)||S[0]+u[0]/2<s[0]*(.5-o.overTreshold)?(f.data("scrolling",!1),f.translateAndFade(S,0,o.swipeoutSpeed),v=setTimeout(r,o.swipeoutSpeed+20),p(h[0]>=0)):f.translate(S,o.swipeoutSpeed)}else(h[0]||h[1])&&f.translate([0,0],100),l();return!1};f.add(n).off("."+w),f.data("lsw_ns",w),t.on("resize."+w,function(){clearTimeout(l),l=setTimeout(function(){s=a(g)},50)}),f.attr("draggable","false").on(TOUCH.START+"."+w+" dragstart."+w+" mousedown."+w,function(t){if(f.data("scrolling"))return!1;if(t.originalEvent.touches&&t.originalEvent.touches.length>1||"mousedown"===t.type&&1!==t.which)return!0;if(S){var o=t.target.nodeName.toLowerCase();if("audio"===o||"video"===o&&t.target.controls&&t.offsetY>e(t.target).height()-60)return!0}return"touchstart"!==t.type&&t.preventDefault(),f.stop(!0,!1),f.data("scrolling",!1),f.data("swipeEnded",!1),f.data("taplength",0),d=(new Date).getTime(),s=s||a(g),u=u||a(f),(m=s[1]>=u[1])?(p=r(t.originalEvent),h=0,c=f.translateX()):(p=i(t.originalEvent),h=[0,0],c=f.translate()),"mousedown"===t.type&&(n.on("mousemove."+w,T),f.on("mouseup."+w+" mouseout."+w,y)),"touchstart"===t.type}).on(TOUCH.MOVE+"."+w+" drag."+w,T).on(TOUCH.END+"."+w,y).on("removeSwipe."+w,function(){setTimeout(function(){f.data("scrolling",!1)},20),f.removeAttr("draggable"),f.add(n).off("."+w)}).on("selectstart."+w,function(e){return e.preventDefault(),!1})})}}(jQuery,jQuery(window),jQuery(document));
!function(e,n,o,t){"use strict";e.fn.addMap=function(n){n=e.extend({},e.fn.addMap.defaults,n);var t=function(e){var n,o;return"string"==typeof e?(e=e.split(","),n=parseFloat(e[0]),o=e.length>1?parseFloat(e[1]):0):(n=e[0]||e.lat||0,o=e[1]||e.lng||0),{lat:n,lng:o}},a=function(n,o){var a,r,l=function(){e.isFunction(o.click)&&o.click.call(this)};if(o.markers&&o.markers.length>1){!function(e){for(var n=0;n<e.length;n++)e[n].hasOwnProperty("pos")&&!e[n].hasOwnProperty("latLng")&&(e[n].latLng=t(e[n].pos))}(o.markers);var s=function(e){for(var n,o=-180,t=-90,a=90,r=180,l=0;l<e.length;l++)(n=e[l].latLng)&&(r>n.lng&&(r=n.lng),a>n.lat&&(a=n.lat),o<n.lng&&(o=n.lng),t<n.lat&&(t=n.lat));return o<r&&(o=180,r=-180),t<a&&(t=90,a=-90),{east:o,west:r,north:t,south:a}}(o.markers),i=o.markers.length;a=new google.maps.Map(n[0],{center:{lat:(s.north+s.south)/2,lng:(s.east+s.west)/2},zoom:o.zoom,mapTypeId:o.type,scrollwheel:!1,panControl:!1,fullscreenControl:o.fullscreenControl});for(var p=0;p<i;p++)o.markers[p].hasOwnProperty("latLng")&&(r=new google.maps.Marker({position:o.markers[p].latLng,map:a}),o.markers[p].hasOwnProperty("title")&&r.setTitle(o.markers[p].title),o.markers[p].hasOwnProperty("link")&&(r.link=o.markers[p].link,google.maps.event.addListener(r,"click",l)));o.fitBounds&&google.maps.event.addListenerOnce(a,"idle",function(){a.fitBounds(s)})}else{var g=t(o.location||o.markers[0].pos);a=new google.maps.Map(n[0],{center:g,zoom:o.zoom,mapTypeId:o.type,scrollwheel:!1,panControl:!1,fullscreenControl:o.fullscreenControl}),r=new google.maps.Marker({position:g,map:a})}o.hasOwnProperty("onTypeChanged")&&e.isFunction(o.onTypeChanged)&&google.maps.event.addListener(a,"maptypeid_changed",function(){o.onTypeChanged.call(a.getMapTypeId())}),o.hasOwnProperty("onZoomChanged")&&e.isFunction(o.onZoomChanged)&&google.maps.event.addListener(a,"zoom_changed",function(){o.onZoomChanged.call(a.getZoom())})};return e(this).each(function(){!function(e,n){if("undefined"==typeof google||!google.maps){var t=o.createElement("script");return t.type="text/javascript",t.src=n.apiUrl+"?key="+(n.apiKey||""),t.onload=function(){setTimeout(function(){a(e,n)},40)},void o.body.appendChild(t)}a(e,n)}(e(this),e.extend(n,readData(e(this),"location,type,zoom,label,markers,current")))})},e.fn.addMap.defaults={apiUrl:"https://maps.googleapis.com/maps/api/js",zoom:16,fitBounds:!0,type:"roadmap",fullscreenControl:!1}}(jQuery,window,document);
!function(t,e,o,a,n){"use strict";t.fn.lightbox=function(n,s){if(typeof n===UNDEF)return this;s=t.extend({},t.fn.lightbox.defaults,s);var i,l,r,d,c,h,u,p,m,f,g,b,T,v,w,C,x,S,y,k,P,O,I=t(this),A=getTranslations(t.fn.lightbox.text),E=t([]),F=t(),L=t(),M=t(),N=t(),D=t(),V=!0,B=!1,H=!1,U=!1,R=!1,z=!1,X=!1,G=!1,W=!1,q=null,_=null,Z=null,K=-1,Q=0,Y=0,j=s.hasOwnProperty("fitPadding")?s.fitPadding:null,$=I.data("llb_ns"),tt=!!s.hasOwnProperty("extraSizes")&&s.extraSizes.split(/,\s*/),et=function(e){var o,a,n,i,l=c.width(),r=c.height(),h=M[0],u=M.hasClass("default");if(clearTimeout(q),L&&L.length){if(clearTimeout(Z),typeof d===UNDEF&&(d=2*parseInt(L.css("paddingTop"))),typeof j===UNDEF&&(j=Math.round(s.fitRatio*Math.max(l,r)/2)),!(o=L.data("oWidth"))||!(a=L.data("oHeight")))if(V||H)o=typeof h.naturalWidth===UNDEF?h.width||M.width():h.naturalWidth,a=typeof h.naturalHeight===UNDEF?h.height||M.height():h.naturalHeight;else if(B)o=h.videoWidth,a=h.videoHeight;else if(R||z||X)o=l-d,a=r-d;else{var p=E.eq(K).data(J.OBJ);o=Math.max(240,p[J.IMAGE][J.WIDTH]),a=p[J.IMAGE][J.HEIGHT]}o&&a?(L.data({oWidth:o,oHeight:a}),n=0,d&&(l-=d,r-=d),s.fitImages&&s.fitBetween&&(c.hasClass(s.captionVisibleClass)&&D&&D.length&&(r-=D.outerHeight()),s.thumbsVisible&&E.length>1&&m&&m.length&&(r-=n=m.outerHeight())),i=(r-2*j)/a,!s.fitBoth&&V||(i=Math.min((l-2*j)/o,i)),U||R||z||X||H&&u||(s.fitImages?(i<1||s.scaleUp)&&(o=Math.round(o*i),a=Math.round(a*i)):HIDPI&&i<=1&&!s.scaleUp&&(o=Math.round(o/2),a=Math.round(a/2),i*=2)),(R||z||X)&&(o=Math.min(l-2*j,o),a=Math.min(r-2*j,a)),!0===e?L.css({left:Math.round((l-o)/2),top:Math.round(n+(r-a)/2),width:o+d,height:a+d,opacity:0}).show():L.stop(!0,!1).animate({left:Math.round((l-o)/2),top:Math.round(n+(r-a)/2),width:o+d,height:a+d},500,function(){t(this).translateX(0,500)}),U||R||z||X||i>=1&&!s.scaleUp||u?c.addClass("no-zoom"):(c.removeClass("no-zoom"),c.toggleClass("zoomed",s.fitImages?i>1:i<1))):e&&(q=setTimeout(et,!0,100))}},ot=function(e){var o="touch"===t("html").data("whatinput")||"touchend"===e.type;if(B||H){var a=N[0];a.paused?(a.play(),"ms"!==VEND&&(a.controls=!1),o&&c.hasClass(s.captionVisibleClass)&&(gt(),mt())):(a.pause(),"ms"!==VEND&&(a.controls=!0),o&&(ft(),pt()))}else V&&(o?c.hasClass(s.captionVisibleClass)||(ft(),pt()):s.clickForNext&&((e.pageX||e.originalEvent.pageX)-L.position().left>L.width()/2?vt():Tt()))},at=function(){if(!(--Q>0)){if(DEBUG){var e=new Date;R||z?console.log((R?"External content":"360 player")+" loaded: "+(e-r)+"ms"):M.length&&(console.log((B||H?"Media":"Image")+" ["+K+"] loaded: "+(e-r)+'ms src="'+M[0].src+'"'),typeof M[0]!==UNDEF&&typeof N[0]!==UNDEF||console.log((M[0],UNDEF,"loadImage.done("+M[0].src+")")))}switch(L.hide().css("opacity",0),s.transitionType){case"crossFadeAndSlide":L.translateXAndFade(100*Y,0);break;case"crossFadeAndZoom":L.transform({scale:1-Y/40,opacity:0})}V&&s.rightClickProtect&&N.on("contextmenu",function(t){return t.preventDefault(),!1}),(B||H)&&(N.attr("autoplay",s.videoAuto),N[0].volume=s.volume,N[0].onvolumechange=function(){s.volume=this.volume}),setTimeout(function(){switch(et(!0),u.hide(),L.show(),s.transitionType){case"crossFadeAndSlide":L.translateXAndFade(0,1,s.speed);break;case"crossFadeAndZoom":L.transform({scale:[1,1],opacity:1},s.speed);break;default:L.opacity(1,s.speed)}setTimeout(function(){z||R&&L.children("iframe").length||L.swipe({onSwipedLeft:function(){G=!0,vt()},onSwipedRight:function(){G=!0,Tt()},onFinished:function(){W||(t(this).trigger("removeSwipe"),t(this).remove())},onClick:ot}),!1!==s.onLoadEnd&&s.onLoadEnd(F),s.preloadNext&&function(){var t;Y<0&&K>0?t=E.eq(K-1).data(J.OBJ):K<E.length-2&&(t=E.eq(K+1).data(J.OBJ)),t&&"image"===t[J.CATEGORY]&&((new Image).src=n.getImagePath(t))}()},s.speed/2)},50),s.useSlideshow&&l?H||B?(dt(),N[0].onended=function(){lt()}):(clearTimeout(l),P&&P.find(".progress").show(),l=setTimeout(vt,s.slideshowDelay)):(rt(!0),s.autohideControls&&bt())}},nt=function(o){if("number"!=typeof o&&(o=E.index(o)),o<0||o>=E.length){if(W=!0,o<0)switch(s.afterLast){case"donothing":o=0;break;case"startover":o=E.length-1;break;case"onelevelup":s.level&&(window.location.href="../"+s.indexName),o=0;break;case"nextfolder":s.baseSet&&s.previousFoldersLast&&(window.location.href=s.previousFoldersLast),o=0;break;default:o=0,st()}else switch(s.afterLast){case"donothing":o=E.length-1;break;case"startover":o=0;break;case"onelevelup":s.level&&(window.location.href="../"+s.indexName),o=E.length-1;break;case"nextfolder":s.baseSet&&s.nextFoldersFirst&&(window.location.href=s.nextFoldersFirst),o=E.length-1;break;case"ask":var d=new Array;return G&&(L.translateXAndFade(0,1,2*s.speed),G=!1),o=E.length-1,E.length>1&&d.push({t:A.startOver,c:"icon-loop",h:function(t){nt(0)}}),s.level&&d.push({t:s.level?A.upOneLevel:s.homepageLinkText||A.backToHome,c:"icon-up-one-level",h:function(){window.location.href="../"+s.indexName}}),d.push({t:A.backToIndex,c:"icon-index",h:function(){st()}}),s.baseSet&&s.nextFoldersFirst&&d.push({t:A.nextFolder,c:"icon-arrow-right",h:function(){window.location.href=s.nextFoldersFirst}}),void c.modal(t("<p>",{class:"text-center",text:A.atLastPageQuestion}),d,{onClose:function(){nt(E.length-1)},class:"secondary",title:A.atLastPage});default:o=E.length-1,st()}G&&(L.translateXAndFade(0,1,2*s.speed),G=!1)}else W=!1;if(c.is(":visible")){if(Y=K>o?-1:K<o?1:0,K===o)return}else a.css("overflow","hidden"),Y=0,s.useFullScreen&&t("html").fullScreen(!0),c.show(),s.autoStart&&it(),Ct(xt);c.find(".modal").trigger("destroy");var h;K=o,F=E.eq(K),h=F.data(J.OBJ),s.useThumbstrip&&E.length>1&&wt(),h?(u.show(),P&&P.find(".progress").hide(),function(t){if(B=H=U=V=z=X=!1,R=t.hasOwnProperty(J.EXTERNAL),z=!R&&s.use360Player&&t.hasOwnProperty(J.PROJECTIONTYPE),!R&&!z)switch(t[J.CATEGORY]){case"video":B=!0;break;case"audio":H=!0;break;case"other":U=!0,X="pdf"===n.getExtension(t);break;default:V=!0}}(h),!1!==s.onLoadStart&&s.onLoadStart(F),setTimeout(function(){if(function(){var t=c.find(".lightbox-main"),e=c.find(".lightbox-caption");if(t.length&&(t.off("."+$),!G))switch(s.transitionType){case"crossFadeAndSlide":t.translateXAndFade(-100*Y,0,s.speed,function(){t.remove()});break;case"crossFadeAndZoom":t.transform({scale:1+Y/40,opacity:0},s.speed,function(){t.remove()});break;default:t.opacity(0,s.speed,function(){t.remove()})}e.length&&(e.find(".buttons a").trigger("removeTooltip"),e.length>1&&(e.eq(-1).prevAll(".lightbox-caption").remove(),e=c.find(".lightbox-caption")),e.opacity(0,s.speed,function(){e.remove()}))}(),G=!1,Q=1,r=new Date,L=t("<div>",{class:"lightbox-main "+(R?"external":z?"vr":X?"pdf":h[J.CATEGORY])}).hide().appendTo(c),V)N=M=t("<img>").one("load."+$,function(t){at()}).attr("src",n.getImagePath(h)).appendTo(L),DEBUG&&console.log("Loading image ["+K+'] src="'+n.getImagePath(h)+'"'),M[0].complete&&M[0].naturalWidth>0&&(M.off("load."+$),at());else if(B)N=M=t("<video>",{preload:"auto",controls:"true",controlsList:"nodownload",poster:n.getPosterPath(h)}).one("loadedmetadata",function(t){at()}).attr("src",n.getSourcePath(h)).appendTo(L);else if(H){var o=n.getPosterPath(h);Q=2,M=t("<img>",{class:"poster"+(o.endsWith("poster.png")?" default":"")}).one("load",function(t){at()}).attr("src",o).appendTo(L),N=t("<audio>",{preload:"auto",controls:"true",controlsList:"nofullscreen nodownload"}).one("loadedmetadata",function(t){at()}).attr("src",n.getSourcePath(h)).appendTo(L)}else if(R){var a=h[J.EXTERNAL].cont,d=h[J.EXTERNAL].size;d&&(d=d.split("x"),L.data({oWidth:parseInt(d[0]),oHeight:parseInt(d[1])})),L.one("DOMReady",function(t){at()}),a.match(/^https?\:\/\//i)||a.match(/\.html?$/i)||a.match(/^\.\.\//)?L.addClass("iframe").append(t("<iframe>",{width:"100%",height:"100%",src:a,frameborder:0,allowfullscreen:"allowfullscreen"})):(a.match(/^<iframe/i)&&L.addClass("iframe"),L.append(a)),setTimeout(at,200)}else if(z){var u=Math.round(c.width()*s.fitRatio),p=Math.round(c.height()*s.fitRatio);L.css({width:u,height:p}).attr("id","vr"+K).addClass("vr").show().one("DOMReady",at),setTimeout(function(){new PhotoSphereViewer({panorama:n.getAbsoluteImagePath(h),container:L[0],usexmpdata:!1,zoom_level:30,loading_html:'<div class="lightbox-loading"><div></div></div>',navbar:!0,navbar_style:{autorotateThickness:2,zoomRangeThickness:2,zoomRangeDisk:12,fullscreenThickness:2,backgroundColor:"rgba(17, 17, 17, 0.35)"}})},s.speed),setTimeout(at,200)}else{var m=L;X&&(m=HASPDFVIEWER?t("<object>",{type:"application/pdf"}).attr("data",n.getSourcePath(h)).appendTo(L):t("<iframe>",{src:"https://docs.google.com/viewer?url="+window.location.href.getDir()+n.getSourcePath(h)+"&embedded=true"}).appendTo(L)),t("<a>",{href:n.getSourcePath(h),target:"_blank"}).append(t("<img>",{class:"other"}).one("load",function(t){at()}).attr("src",n.getImagePath(h))).appendTo(m),t("<p>",{class:"click-hint",html:A.clickToOpen}).appendTo(m)}!function(o){D=t("<div>",{class:"lightbox-caption"+(l?" slideshow":"")}).hide().appendTo(c);var a=t("<div>",{class:"buttons"}),r=s.buttonLabels&&c.width()>=640;if(tt&&"image"===o[J.CATEGORY]){i=t("<div>",{class:"download icon-download"}).appendTo(a);for(var d=n.getImagePath(o),h=0;h<tt.length;h++)i.append(t("<a>",{text:tt[h],href:d.replace("slides/","dl/"+tt[h]+"/"),download:""}))}s.printImage&&"image"===o[J.CATEGORY]&&(i=t("<a>",{class:s.buttonClass+" icon-printer"}).appendTo(a),r?i.text(" "+A.print).data("tooltip",A.printLabel):i.data("tooltip",A.print),i.on("click",function(t){printImage(o[J.ORIGINAL]&&!s.rightClickProtect?o[J.ORIGINAL][J.PATH]:o[J.IMAGE][J.PATH],o[J.TITLE]||"",o[J.THUMBCAPTION]||"")})),!o[J.ORIGINAL]||s.rightClickProtect||"image"!==o[J.CATEGORY]&&!s.allowDownloadOthers||(i=t("<a>",{class:s.buttonClass+" icon-download",download:"",href:n.getOriginalPath(o)}).appendTo(a),r?i.text(" "+A.download):i.data("tooltip",A.download)),s.hasOwnProperty("shop")&&n.hasShop(o)&&(i=t("<a>",{class:s.buttonClass+" icon-shopping-cart"}).on("click",function(t){s.shop.root.trigger("addItems",o)}).appendTo(a),r?i.text(" "+A.addCart).data("tooltip",A.shopLabel):i.data("tooltip",A.addCart),i=t("<a>",{class:s.buttonClass+" secondary icon-shopping-cart"}).on("click",function(t){s.shop.root.trigger("showCart")}).appendTo(a),r?i.text(" "+A.viewCart):i.data("tooltip",A.viewCart)),!LOCAL&&typeof FOTOMOTO!==UNDEF&&s.fotomoto&&(i=t("<a>",{class:s.buttonClass+" icon-fotomoto"}).on("click",function(t){FOTOMOTO.API.showWindow(10,n.getOriginalPath(o)||n.getItemPath(o))}).appendTo(a),r?i.text(" "+A.fotomotoBtn).data("tooltip",A.fotomotoTooltip):i.data("tooltip",A.fotomotoBtn)),o[J.PHOTODATA]&&(i=t("<a>",{class:s.buttonClass+" icon-camera"}).appendTo(a),r?i.text(" "+A.metaBtn).data("tooltip",A.metaLabel):i.data("tooltip",A.metaBtn),i.on("click",function(){return c.modal(t("<div>",{class:"photodata",html:o[J.PHOTODATA]}),{class:"small",title:A.metaBtn}),!1})),o[J.REGIONS]&&(i=t("<a>",{class:s.buttonClass+" icon-user"}).appendTo(a),r?i.text(" "+(s.regionsBtn||A.regionsBtn)).data("tooltip",A.regionsLabel):i.data("tooltip",s.regionsBtn||A.regionsBtn),i.on("click",function(){var e=c.find("."+s.regionsClass);if(e.length)e.remove();else{var a=JSON.parse(o[J.REGIONS]);e=t("<div>",{class:s.regionsClass}).appendTo(L);for(var n,i=0;i<a.length;i++)n=a[i].split(";"),e.append(t("<a>").css({left:100*parseFloat(n[1])+"%",top:100*parseFloat(n[2])+"%",width:100*parseFloat(n[3])+"%",height:100*parseFloat(n[4])+"%"}).append("<span>"+n[0]+"</span>"))}return!1})),o[J.LOCATION]&&(i=t("<a>",{class:s.buttonClass+" icon-location"}).appendTo(a),r?i.text(" "+A.mapBtn).data("tooltip",A.mapLabel):i.data("tooltip",A.mapBtn),i.on("click",function(){var a=t("<div>",{class:"map-cont"});return a.height(e.height()*s.mapHeight),c.modal(a,{class:"no-padding"}),setTimeout(function(){a.addMap({location:o[J.LOCATION],type:s.mapType,zoom:s.mapZoom,fitBounds:!1,onTypeChanged:function(t){s.mapType=t},onZoomChanged:function(t){s.mapZoom=t}})},100),!1})),o[J.MOSTPHOTOS]&&(i=t("<a>",{class:s.buttonClass+" icon-shopping-cart",target:"_blank",href:"https://mostphotos.com/"+o[J.MOSTPHOTOS]}).appendTo(a),r?i.text(" "+A.mostphotosBtn).data("tooltip",A.mostphotosLabel):i.data("tooltip",A.mostphotosBtn)),s.share&&s.showShare&&(i=t("<a>",{class:s.buttonClass+" icon-connect"}).appendTo(a),r?i.text(" "+A.share).data("tooltip",A.shareLabel):i.data("tooltip",A.share),i.on("click",function(){var e=t("<div>",{class:"share-cont social-links text-center"});return c.modal(e,{class:"small",title:A.shareOn}),setTimeout(function(){e.renderShares({sites:s.share,title:o[J.TITLE]||o[J.NAME],description:o[J.COMMENT],image:n.getAbsoluteImagePath(o),href:n.getAbsolutePath(o)})},100),!1})),s.showNumbers&&a.prepend(t("<h4>",{class:"numbers",html:"<span>"+(K+1)+"</span> / "+E.length})),a.is(":empty")||(D.addClass(s.hasbuttonsClass),D.append(a),a.children("a").addTooltip()),o[J.IMAGECAPTION]&&(D.append(t("<div>",{class:"caption",html:o[J.IMAGECAPTION]})),D.find("[data-tooltip]").addTooltip()),s.captionVisible&&!D.is(":empty")?(c.addClass(s.captionVisibleClass),D.show()):(c.removeClass(s.captionVisibleClass),s.captionVisible?D.remove():D.show())}(h)},s.speed/4)):console.log("Fatal error: image ("+K+") is missing from the database! (Upload data1.json again!)")},st=function(){rt(!0),a.css("overflow",""),L.length?c.fadeOut(s.speed,function(){s.useFullScreen&&t("html").fullScreen(!1),L.length&&(L.remove(),L=t()),D.length&&(D.remove(),D=t()),!1!==s.onClose&&s.onClose(F)}):!1!==s.onClose&&s.onClose(F)},it=function(e){clearTimeout(l),c.addClass(s.playingClass),s.autohideControls&&bt(),l=setTimeout(vt,s.slideshowDelay/4),!0!==e&&s.backgroundAudioSlideshowControl&&t("[data-audioplayer]").trigger("startPlayer"),!1!==s.onSlideshowStart&&s.onSlideshowStart(F)},lt=function(){s.autohideControls&&bt(),c.addClass(s.playingClass),l=setTimeout(vt,s.slideshowDelay/4),s.backgroundAudioSlideshowControl&&t("[data-audioplayer]").trigger("startPlayer")},rt=function(e){!1!==s.onSlideshowPause&&s.onSlideshowPause(F),!0!==e&&s.backgroundAudioSlideshowControl&&t("[data-audioplayer]").trigger("pausePlayer"),l=clearTimeout(l),c.removeClass(s.playingClass),_=clearTimeout(_)},dt=function(){s.backgroundAudioSlideshowControl&&t("[data-audioplayer]").trigger("pausePlayer"),l=clearTimeout(l),ft()},ct=function(){s.fitImages=!s.fitImages,Pt(),et()},ht=function(){c.addClass(s.thumbsVisibleClass),s.thumbsVisible=!0,Pt(),et()},ut=function(){c.removeClass(s.thumbsVisibleClass),s.thumbsVisible=!1,Pt(),et()},pt=function(){c.addClass(s.captionVisibleClass),s.captionVisible=!0,Pt(),et()},mt=function(){c.removeClass(s.captionVisibleClass),s.captionVisible=!1,Pt(),et()},ft=function(){_=clearTimeout(_),c.removeClass(s.controlsHideClass)},gt=function(){_=clearTimeout(_),g.hideAllTooltips(),c.addClass(s.controlsHideClass)},bt=function(){clearTimeout(_),_=setTimeout(gt,l?Math.min(s.slideshowDelay/2,1500):1500)},Tt=function(){nt(K-1)},vt=function(){nt(K+1)},wt=function(){if(s.useThumbstrip&&!(E.length<2)){var t=f.children().eq(K<0?0:K),e=t.position().left,o=t.width(),a=f.translateX(),n=m.width(),i=f.width();f.children().removeClass(s.activeClass),t.addClass(s.activeClass),e<-a?f.translateX(Math.min(0,s.thumbOverhead-e),s.thumbSpeed,Ct):e+o>n-a?f.translateX(Math.max(n-e-o-s.thumbOverhead,n-i),s.thumbSpeed,Ct):n-a>i&&f.translateX(n-i,s.thumbSpeed,Ct)}},Ct=function(e){if(c.is(":visible")&&s.useThumbstrip&&!(E.length<2)){var o=m.width(),a=f.translateX()||0;f.children("."+s.lazyloadClass).each(function(){var e=t(this),n=e.position().left,i=e.width();if(n+a<o&&n+i+a>0)e.removeClass(s.lazyloadClass),function(e){if(e.length){var o=t("<img>",{class:"hide-image"}).one("load",function(){t(this).removeClass("hide-image").addClass("show-image")}).attr("src",e.attr("href"));s.rightClickProtect&&o.on("contextmenu",function(t){return t.preventDefault(),!1}),e.append(o).removeAttr("href")}}(e),e.addTooltip({delay:1e3});else if(n+a>=o)return!1}),"function"==typeof e&&e.call(this)}},xt=function(){if(c.is(":visible")){var t=f.children(":last-child");t.position().left+t.outerWidth()>m.width()?(p.addClass(s.scrollClass),wt()):(p.removeClass(s.scrollClass),f.translateX(0,s.thumbSpeed))}},St=function(t){var e=m.width(),o=f.translateX()||0;e>f.width()?o&&f.translateX(0,s.thumbSpeed,Ct):(o=t<0?Math.min(0,o+e):Math.max(e-f.width(),o-e),f.translateX(o,s.thumbSpeed,Ct))},yt=function(){s.thumbsVisible&&c.addClass(s.thumbsVisibleClass),(p=t("<div>",{class:"thumb-strip"}).appendTo(c)).append(t("<button>",{class:"left icon-drop-left"}).on("click."+$,function(t){return St(-1),!1})),p.append(t("<button>",{class:"right icon-drop-right"}).on("click."+$,function(t){return St(1),!1})),(m=t("<div>",{class:"thumb-cont"}).appendTo(p)).on("selectstart."+$,function(t){return!1});var e,o,a,i=(f=t("<div>",{class:"thumbs"}).appendTo(m)).height()||60,l=0;E.each(function(r){e=t(this).data(J.OBJ),(a=t("<a>",{class:s.lazyloadClass,title:e[J.THUMBCAPTION]||"",href:n.getThumbPath(e)}).appendTo(f)).on("click",function(e){var o=t(e.target).closest("a");return nt(f.children().index(o)),!1}),o=(i-4)*e[J.THUMB][J.WIDTH]/e[J.THUMB][J.HEIGHT],a.width(o),l+=o})},kt=function(){g=t("<div>",{class:"controls"+(s.controlsUseText?" use-text":"")}).appendTo(c),E.length>1&&(b=t("<button>",{type:"button",class:"lightbox-btn previous icon-previous",title:A.previousPicture,text:s.controlsUseText?A.previousPictureShort:""}).on("click."+$,Tt).appendTo(g)),T=t("<button>",{type:"button",class:"lightbox-btn up icon-up-light",title:A.upOneLevel,text:s.controlsUseText?A.upOneLevelShort:""}).on("click."+$,st).appendTo(g),s.useZoom&&(v=t("<button>",{type:"button",class:"lightbox-icon zoom-in icon-expand",title:A.oneToOneSize,text:s.controlsUseText?A.oneToOneSizeShort:""}).on("click."+$,ct).appendTo(g),w=t("<button>",{type:"button",class:"lightbox-icon zoom-out icon-contract",title:A.fitToScreen,text:s.controlsUseText?A.fitToScreenShort:""}).on("click."+$,ct).appendTo(g)),s.useThumbstrip&&E.length>1&&(C=t("<button>",{type:"button",class:"lightbox-icon show-thumbs icon-show-top-thumbs",title:A.showThumbs,text:s.controlsUseText?A.showThumbsShort:""}).on("click."+$,ht).appendTo(g),x=t("<button>",{type:"button",class:"lightbox-icon hide-thumbs icon-hide-top-thumbs",title:A.hideThumbs,text:s.controlsUseText?A.hideThumbsShort:""}).on("click."+$,ut).appendTo(g)),S=t("<button>",{type:"button",class:"lightbox-icon show-caption icon-show-bottom-panel",title:A.showInfo,text:s.controlsUseText?A.showInfoShort:""}).on("click."+$,pt).appendTo(g),y=t("<button>",{type:"button",class:"lightbox-icon hide-caption icon-hide-bottom-panel",title:A.hideInfo,text:s.controlsUseText?A.hideInfoShort:""}).on("click."+$,mt).appendTo(g),s.useSlideshow&&E.length>1&&(k=t("<button>",{type:"button",class:"lightbox-icon play icon-slideshow",title:A.startSlideshow,text:s.controlsUseText?A.startSlideshowShort:""}).on("click."+$,it).appendTo(g),P=t("<button>",{type:"button",class:"lightbox-icon pause icon-pause",title:A.pause,text:s.controlsUseText?A.pauseShort:""}).append(t("<span>",{class:"progress"})).on("click."+$,rt).appendTo(g)),E.length>1&&(O=t("<button>",{type:"button",class:"lightbox-btn next icon-next",title:A.nextPicture,text:s.controlsUseText?A.nextPictureShort:""}).on("click."+$,vt).appendTo(g)),g.children("button").addTooltip({delay:1e3})},Pt=function(){var e,o,a={};for(e in s.prefsKept)o=s.prefsKept[e],s.hasOwnProperty(o)&&(a[o]=s[o]);a&&t.cookie("lb_pref",a)};if($&&function(o){e.add(document).off("."+o),t("#"+o).remove()}($),I.data("llb_ns",$="llb_"+Math.floor(1e4*Math.random())),E=I.find(s.delegate),function(){var e,o,a=t.cookie("lb_pref");if(a)for(e in s.prefsKept)o=s.prefsKept[e],a.hasOwnProperty(o)&&(s[o]="true"===a[o]||"false"===a[o]?!!a[o]:a[o])}(),function(e){c=t("<div>",{id:e,class:"lightbox"}).hide().appendTo("body"),h=t("<div>",{class:"lightbox-overlay"}).appendTo(c),u=t("<div>",{class:"lightbox-loading"}).append("<div>").appendTo(c),c.toggleClass(s.thumbsVisibleClass,s.thumbsVisible&&E.length>1),c.toggleClass(s.captionVisibleClass,s.captionVisible),c.toggleClass("zoomed",s.fitImages),kt(),s.useThumbstrip&&E.length>1&&yt()}(),"touch"!==t("html").data("whatinput")&&c.on("mousemove."+$,function(){c.hasClass(s.controlsHideClass)&&ft(),s.autohideControls&&bt()}),e.on("resize."+$,function(){clearTimeout(Z),Z=setTimeout(function(){!L||!L.length||z&&(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)||et(),Ct(xt)},50)}),s.quitOnDocClick&&h.on("click."+$,function(e){L.length&&!t(e.target).is(L)&&st()}),s.enableKeyboard&&o.on("keyup."+$,function(t){if(!L.length||c.children(".modal:visible").length||document.activeElement&&("INPUT"===document.activeElement.nodeName||"TEXTAREA"===document.activeElement.nodeName))return!0;switch(t.preventDefault(),t.keyCode){case 27:st();break;case 37:Tt();break;case 39:vt();break;case 97:case 35:nt(E.length-1);break;case 103:case 36:nt(0);break;case 106:case 179:l?rt():it();break;case 107:ct();break;case 109:s.captionVisible||s.thumbsVisible?s.thumbsVisible=s.captionVisible=!1:(c.addClass(s.thumbsVisibleClass).addClass(s.captionVisibleClass),s.thumbsVisible=s.captionVisible=!0),Pt(),et();break;case 32:B||H?N[0].paused?N[0].play():N[0].pause():l?rt():it();break;default:return!0}return!1}),s.enableMouseWheel){var Ot=null;e.on("mousewheel."+$+" DOMMouseScroll."+$,function(t){return Ot=clearTimeout(Ot),!(L.length&&!L.hasClass("pdf")&&!c.children(".modal:visible").length)||(Ot=setTimeout(t.originalEvent.wheelDelta>0||t.originalEvent.detail<0?Tt:vt,100),!1)})}return I.on("lightboxLoad."+$,function(t,e,o){rt(!0),e="number"==typeof e?Math.minMax(0,e,E.length):typeof e===UNDEF?0:E.index(e),!1!==s.onStart&&s.onStart("number"==typeof e?E.eq(e):th),nt(e),o&&it()}).on("lightboxQuit."+$,function(){return st(),!1}).on("lightboxRemove."+$,function(){return rt(!0),E.off("."+$),o.add(e).add(c).off("."+$),a.css("overflow",""),L.length?L.animate({opacity:0},s.speed,function(){c.remove()}):c.remove(),!1}).on("lightboxContainer."+$,function(){return c}).on("lightboxNext."+$,function(){return rt(),vt(),!1}).on("lightboxPrevious."+$,function(){return rt(),Tt(),!1}),s.hasOwnProperty("onReady")&&t.isFunction(s.onReady)&&s.onReady(F),s.autoStart&&s.baseSet&&it(),this},t.fn.lightbox.defaults={delegate:".card.lbable",buttonClass:"button small",lazyloadClass:"lazyload",activeClass:"active",scrollClass:"scroll",regionsClass:"regions",captionVisibleClass:"caption-visible",thumbsVisibleClass:"thumbs-visible",hasbuttonsClass:"hasbuttons",controlsVisibleClass:"controls-visible",controlsHideClass:"controls-hide",playingClass:"playing",slideshowDelay:4e3,prefsKept:["thumbsVisible","captionVisible","fitImages"],controlsUseText:!1,thumbsVisible:!0,useThumbstrip:!0,captionVisible:!0,fitImages:!0,fitBoth:!0,fitBetween:!0,fitRatio:.94,scaleUp:!1,useZoom:!0,indexName:"index.html",baseSet:!0,autohideControls:!0,autoStart:!1,useSlideshow:!0,backgroundAudioSlideshowControl:!1,use360Player:!0,useFullScreen:!1,afterLast:"donothing",mapHeight:.8,videoAuto:!1,volume:.5,rightClickProtect:!1,buttonLabels:!0,showNumbers:!1,showShare:!1,allowDownloadOthers:!1,printImage:!1,transitionType:"crossFadeAndSlide",speed:400,thumbSpeed:400,thumbOverhead:40,preloadNext:!0,enableKeyboard:!0,enableMouseWheel:!0,quitOnEnd:!0,quitOnDocClick:!0,clickForNext:!0,onStart:!1,onClose:!1,onLoadStart:!1,onLoadEnd:!1,onReady:!1,onSlideshowStart:!1,onSlideshowPause:!1},t.fn.lightbox.text={startOver:"Start over",upOneLevel:"Up one level",upOneLevelShort:"Exit",backToHome:"Back to home",backToIndex:"Back to index page",nextFolder:"Next folder",atLastPageQuestion:"Where to go next?",atLastPage:"At last page",atFirstPage:"At first page",previousPicture:"Previous image",previousPictureShort:"Prev",nextPicture:"Next image",nextPictureShort:"Next",oneToOneSize:"1:1 size",oneToOneSizeShort:"1:1",fitToScreen:"Fit to screen",fitToScreenShort:"Fit",showThumbs:"Show thumbnail strip",showThumbsShort:"Thumbnails",hideThumbs:"Hide thumbnail strip",hideThumbsShort:"Hide thumbs",showInfo:"Show caption / info",showInfoShort:"Info",hideInfo:"Hide caption / info",hideInfoShort:"Hide info",startSlideshow:"Start slideshow",startSlideshowShort:"Play",pause:"Pause",pauseShort:"Pause",download:"Download",print:"Print",printLabel:"Print out this photo on your printer",mapBtn:"Map",mapLabel:"Show the photo location on map",fotomotoBtn:"Buy / Share",fotomotoLabel:"Buy prints or digital files, share, send free eCards",mostphotosBtn:"Purchase",mostphotosLabel:"Download this image from <b>mostphotos.com</b>!",regionsBtn:"People",regionsLabel:"Show tagged people",share:"Share",shareLabel:"Share this photo over social sites",shareOn:"Share on",shopBtn:"Buy",metaBtn:"Photo data",metaLabel:"Display photographic (Exif/Iptc) data",viewCart:"View cart",addCart:"Add to cart",shopLabel:"Add this item to the shopping cart",clickToOpen:"Click to open this document with the associated viewer!"}}(jQuery,jQuery(window),jQuery(document),jQuery("body"));
!function(t){"use strict";var o=["left","center","right"],e=["top","middle","bottom"];t.fn.alignTo=function(s,n){if(n=t.extend({},t.fn.alignTo.defaults,n),"string"==typeof s&&(s=t(s)),s instanceof t&&s.length){var a,p,i,r=t(window).width(),l=t(window).height(),f="fixed"===s.css("position"),d=function(o){var e={left:0,top:0};return o.parents().each(function(){if("fixed"===t(this).css("position"))return e.left=t(window).scrollLeft(),e.top=t(window).scrollTop(),e}),e}(s);if("AREA"===s[0].nodeName&&"RECT"===s[0].shape.toUpperCase()){var g=s[0].coords.split(",");p=parseInt(g[2],10)-parseInt(g[0],10),i=parseInt(g[3],10)-parseInt(g[1],10),(a=s.parent().offset()).left+=parseInt(g[0],10),a.top+=parseInt(g[1],10)}else a=f?s.position():s.offset(),p=s.outerWidth(),i=s.outerHeight();return a.left-=d.left,a.top-=d.top,t(this).each(function(){var s=t(this),g=n.pos[2],h=n.pos[3];s.css("maxHeight","none");var c=s.outerWidth(),u=s.outerHeight(),v=Math.round(a.left+n.pos[2]*p/2+(n.pos[2]-1)*n.gap),m=Math.round(a.top+n.pos[3]*i/2+(n.pos[3]-1)*n.gap),w=Math.round(v-n.pos[0]*c/2),x=Math.round(m-n.pos[1]*u/2);(x<0||x+u>l)&&(1!==n.pos[2]?x=2*x+u>l?l-u:0:0===n.pos[3]?l>2*a.top+i&&(x=a.top+i+n.gap,h=2):2===n.pos[3]&&l<2*a.top+i&&(x=Math.max(0,a.top-u-n.gap),h=0),x<0&&(x=0)),(w<0||w+c>r)&&(1!==n.pos[3]?w=2*w+c>r?r-c:0:0===n.pos[2]?r>2*a.left+p&&(w=a.left+p+n.gap,g=2):2===n.pos[2]&&r<2*a.left+p&&(w=Math.max(0,a.left-c-n.gap),g=0),w<0&&(w=0),w+c>r&&s.css({maxWidth:r-w-(parseInt(s.css("paddingLeft"),10)+parseInt(s.css("paddingRight"),10))})),f?s.css({position:"fixed",left:w,top:x}):s.css({position:"absolute",left:w+d.left,top:x+d.top}),s.removeClass("align-left align-center align-right valign-top valign-middle valign-bottom").addClass("align-"+o[g]).addClass("valign-"+e[h])})}},t.fn.alignTo.defaults={gap:0,pos:[1,2,1,0]}}(jQuery);
!function(t){"use strict";t.fn.hideAllTooltips=function(){return this.each(function(){t(this).find("[data-tooltip-id]").each(function(){var e=t(this).attr("data-tooltip-id");e&&e.length&&t("#"+e).hide()})})},t.fn.destroyAllTooltips=function(){return this.each(function(){t(this).find("[data-tooltip-id]").each(function(){var e=t(this).attr("data-tooltip-id");e&&e.length&&t("#"+e).remove()})})},t.fn.addTooltip=function(e,o){typeof e===UNDEF||"string"==typeof e||e.jquery||(o=e,e=null),o=t.extend({},t.fn.addTooltip.defaults,o);return this.each(function(){if(this["data-tooltip-id"])return!0;var i,n,a,r,u,l=t(this),f=!1,s=!1,d="",c=!1,p="_ltt_"+Math.floor(1e4*Math.random()),T=/(Firefox\/\d+)/.test(navigator.userAgent),h=function(t){a=clearTimeout(a),f=!0,i.finish().show()},m=function(t){s||(clearTimeout(a),f=!1,a=setTimeout(y,100))},y=function(){n=clearTimeout(n),a=clearTimeout(a),f=!1,d="",i&&i.stop(!0,!1).fadeOut(200,function(){i.hide()})},v=function(){var t=l.offset();r||(r=t),t.top===r.top&&t.left===r.left&&i.fadeIn(300).alignTo(l,{gap:10,pos:o.pos}),setTimeout(function(){d=""},1e3)},g=function(){return!!i&&i.is(":visible")&&i.css("opacity")>.99},b=function(e){l.off("."+p),n=clearTimeout(n),a=clearTimeout(a),t("#"+l.attr("data-tooltip-id")).remove(),l.attr("data-tooltip-id",null)};l.attr("data-tooltip-id",p).on("destroyTooltip",b).on("removeTooltip",y).on("focus."+p+" mouseenter."+p+" "+TOUCH.START+"."+p,function(f){var T=new Date;if(d?-1===d.indexOf(f.type)&&(d+="."+f.type):(d="."+f.type,c=g(),u=T,r=l.offset()),i)i.stop(!0,!1),a=clearTimeout(a);else if(!(i=function(e,i){var n;if(i)if("string"==typeof i)n=t("<div>",{html:i}).appendTo("body");else{if(!i.jquery)return null;n=t.contains(document.body,i[0])?i:i.appendTo("body")}else{if((i=e.data("tooltip"))?("."===i.charAt(0)?i=e.find(i).eq(0):"#"===i.charAt(0)&&(i=t(i)),i.jquery&&i.removeClass("hidden")):(i=e.attr("title"),e.removeAttr("title")),!i||!i.length)return null;n=t("<div>",{html:i}).appendTo("body")}return n.is(":empty")?null:(n.attr("id",e.attr("data-tooltip-id")).addClass(o.className).attr("role","tooltip").attr("aria-hidden",!0).hide().append(t("<span>",{class:o.nub})),n)}(l,e))||(i.on("mouseover."+p,h).on("mouseout."+p,m),i.find("input, textarea").on("focus."+p,function(){s=!0,h()}).on("blur."+p,function(){s=!1}),0))return b(),!0;return clearTimeout(n),f.type!==TOUCH.START&&(n=setTimeout(v,o.delay)),!0}).on("blur."+p+" mouseleave."+p,function(t){a=-1===d.indexOf(TOUCH.START)?setTimeout(y,100):setTimeout(y,8e3)}).on("click."+p,function(e){if(n=clearTimeout(n),-1!==d.indexOf(TOUCH.START)||T){var i=new Date;if(o.touchToggle||i-u>1e3)return!(!function(o){var i=t(e.target).closest("a");return i.length&&i.attr("href")&&!i.attr("href").startsWith("javascript")}()||!g())||(function(t){t.preventDefault(),n=clearTimeout(n),a=clearTimeout(a)}(e),c?y():v(),!1)}return c&&(a=clearTimeout(a),y()),d="",f=!1,!0})})},t.fn.addTooltip.defaults={delay:50,className:"tool-tip",nub:"nub",stay:2e3,touchToggle:!1,pos:[1,2,1,0]}}(jQuery);
!function(e,t,o){"use strict";e.fn.modal=function(n,a,s){if("string"==typeof n&&(n=e(document.createTextNode(n))),n instanceof e&&n.length){e.isArray(a)||(s=a,a=null),s=e.extend({},e.fn.modal.defaults,s);var l,d,i,c,r=e(this),u=getTranslations(e.fn.modal.text),h=!1,f="lmo_"+Math.floor(1e4*Math.random()),p=null,m=null,T=function(){c.css({overflow:"auto",maxHeight:.8*t.height()-(d.hasClass("has-header")?i.height():0)})},v=function(){return p=clearTimeout(p),l.destroyAllTooltips().fadeOut(s.speed,function(){h?l.hide().css("opacity",1):l.remove(),t.off("."+f)}),o.removeClass("has-modal"),!1};return function(){if(e.contains(document.documentElement,n[0]))d=(l=n).children().eq(0),i=d.find(".close").eq(0),c=d.find(".content").eq(0),h=!0;else if(l=e("<div>",{class:"modal"}).appendTo(r),d=e("<div>",{class:"window "+(s.class||""),role:"dialog"}).appendTo(l),(i=e("<a>",{class:"btn close",title:u.closeWindow}).appendTo(d)).addTooltip(),c=e("<div>",{class:"content"}).appendTo(d),s.title&&d.addClass("has-header").prepend(e("<header>",{text:s.title})),c.append(n.show()),a){var t,f,p=e("<div>",{class:"buttons"}).appendTo(c),m=function(t){t.preventDefault();var o=t.target;return e.isFunction(o.handler)&&!1!==o.handler.call(this)&&v(),!1};for(t=0;t<a.length;t++)f=e("<button>",{class:"button "+(a[t].c||""),html:" "+a[t].t}).on("click",m).appendTo(p),e.isFunction(a[t].h)&&(f[0].handler=a[t].h)}l.hide().css("opacity",1).fadeIn(s.speed),o.addClass("has-modal"),l.on("destroy",v),l.on("close",v),i.add(l).on("click",function(t){t.target===this&&(e.isFunction(s.onClose)&&s.onClose.call(this),v())}),T()}(),s.autoFade&&(p=setTimeout(v,s.autoFade)),t.on("resize."+f,function(){clearTimeout(m),m=setTimeout(T,20)}),this}},e.fn.modal.defaults={speed:300,autoFade:0,width:400,type:"normal"},e.fn.modal.text={closeWindow:"Close window"}}(jQuery,jQuery(window),jQuery("body"));
!function(e,t,a,i){"use strict";e.fn.matchHeight=function(i){return i=e.extend({},e.fn.matchHeight.defaults,i),e(this).each(function(){var h,n,r,s,o,u=e(this),l=u.find("."+i.delegate),c=u.data("lmh_ns"),d=function(){return Math.getRange(Math.round(t.width()/16),i.breakpoints)},f=function(){return Math.ceil((l.closest(".row").width()+1)/l.eq(0).outerWidth())},g=function(){return l.find("img").length},m=function(e){var t=e.hasClass(i.thumbClass)?e:e.find("."+i.thumbClass);return!t.length||(t=t.find("img").eq(0)).length&&t.is(":visible")&&(t[0].naturalHeight>0||t.eq(0).height()>0)},v=function(t){if(t)if(i.match){for(var a,h=0;h<i.match.length;h++)(a=i.match[h]===i.delegate?t:t.find("."+i.match[h])).hasClass(i.verticalMiddleClass)?i.usePadding?a.css({height:"auto",paddingTop:0}):a.css({height:"auto",marginTop:0,marginBottom:0}):a.height("auto");if(t.length>1)for(h=0;h<i.match.length;h++)a=i.match[h]===i.delegate?t:t.find("."+i.match[h]),r=0,a.length>1&&(a.each(function(t){(n=e(this).height())>r&&(r=n)}),r>16&&a.each(function(){var t=e(this);m(t)&&(t.hasClass(i.verticalMiddleClass)?(n=t.height())<r?i.usePadding?t.css({height:r,paddingTop:Math.floor((r-n)/2)}):t.css({height:"auto",marginTop:Math.floor((r-n)/2),marginBottom:Math.ceil((r-n)/2)}):i.usePadding?t.css({height:"auto",paddingTop:0}):t.css({height:"auto",marginTop:0,marginBottom:0}):t.height(r),t.data("fixed",!0))}))}else if(t.height("auto"),t.length>1){var n,r;t.each(function(){(n=e(this).height())>r&&(r=n)}),r>=60&&t.each(function(){var t=e(this);m(t)&&(t.height(r),t.data("fixed",!0))})}},T=function(){clearTimeout(r);var a=d(),h=f();a===o&&h===n||(o=a,n=h,l.data("fixed",null));var c=function(){var a,h,n=[],r=e(),o=t.scrollTop(),c=-999,d=function(t){var a=0;t.each(function(){e(this).data("fixed")&&a++}),a!==t.length&&n.push(t)};return u.is(":visible")&&(l.each(function(){var t=e(this);if(t.hasClass(i.lazyloadClass))return!0;if(a=t.offset().top,h=t.height(),a+h>=o-s){if(!(a<o+2*s))return!1;Math.abs(a-c)<2?r=r.add(t):(r.length&&d(r),c=a,r=t)}}),r.length&&d(r)),n}();if(c.length)for(var g=0;g<c.length;g++)c[g].length<2?c[g].height("auto"):v(c[g])},y=function(){var e=g();e!==h&&(clearTimeout(r),r=setTimeout(T,i.refreshFrequency),h=e),l.filter("."+i.lazyloadClass).length&&setTimeout(y,i.refreshFrequency)};c&&a.add(t).off("."+c),u.data("lmh_ns",c="lmh_"+Math.floor(1e4*Math.random())),l=u.find("."+i.delegate),h=g(),n=f(),s=t.height(),o=d(),t.on("resize."+c+" orientationchange."+c,function(){return clearTimeout(r),s=t.height(),r=setTimeout(T,i.refreshFrequency),!0}),t.on("scroll."+c,function(){return clearTimeout(r),r=setTimeout(T,i.refreshFrequency),!0}),u.on("matchheight",function(e){T()}),setTimeout(y,i.refreshFrequency),r=setTimeout(T,i.refreshFrequency/2)})},e.fn.matchHeight.defaults={delegate:"card",lazyloadClass:"lazyload",thumbClass:"thumb",verticalMiddleClass:"vertical-middle",usePadding:!0,breakpoints:[30,40,64],refreshFrequency:300}}(jQuery,jQuery(window),jQuery(document),jQuery("body"));
!function(e,a,t,s,n){"use strict";e.fn.selectable=function(a){a=e.extend({cardClass:"card",checkboxClass:"checkbox",checkedClass:"checked",noneSelected:null,anySelected:null},a);var t,s=e(this).eq(0),n=function(){return t.filter("."+a.checkedClass).length},l=function(t){var s=e(t.target).closest("."+a.cardClass),l=n();return s.hasClass(a.checkedClass)?(s.removeClass(a.checkedClass),1===l&&e.isFunction(a.noneSelected)&&a.noneSelected.call()):(s.addClass(a.checkedClass),0===l&&e.isFunction(a.anySelected)&&a.anySelected.call()),!1},o=function(){(t=a.selector?s.find(a.selector):s.find("."+a.cardClass)).each(function(){e(this).children("span."+a.checkboxClass).length||e(this).append(e("<span>",{class:a.checkboxClass}).on({click:l}))})};return o(),s.on({selectAll:function(){if(s.is(":visible")){var l=n();l<t.length&&(t.not("."+a.checkedClass).addClass(a.checkedClass),0===l&&e.isFunction(a.anySelected)&&a.anySelected.call())}},selectNone:function(){if(s.is(":visible")){var l=n();l&&(t.filter("."+a.checkedClass).removeClass(a.checkedClass),l>0&&e.isFunction(a.noneSelected)&&a.noneSelected.call())}},selectInverse:function(){if(s.is(":visible")){var l=n();t.toggleClass(a.checkedClass),0===l&&e.isFunction(a.anySelected)?a.anySelected.call():l===t.length&&e.isFunction(a.noneSelected)&&a.noneSelected.call()}},selectRefresh:o}),this},e.fn.skin=function(t){t=e.extend({},e.fn.skin.defaults,t);var s,n,l,o,r,i,c=e(t.contentHook),d=getTranslations({foundNTimes:"found {0} time(s)",notFound:"not found",search:"Search",newImages:"New images",label:"Label",addCart:"Add to cart",return:"return",inTheLastDay:"in the last day",inThePastNDays:"in the past {0} days",sinceMyLastVisit:"since my last visit",imagesAdded:"Images added",imagesModified:"Images modified",imagesTaken:"Images taken",newItem:"NEW",more:"more",less:"less"}),h="",u=""!==window.location.hash,f=new Date/864e5,m=null,p=!1,g=function(a){return a=e("<div>",{class:"large-12 columns"}).appendTo(a),a=e("<div>",{class:t.thumbsClass+" row "+t.thumbGridClass}).appendTo(a)},C=function(a){var s;c.addClass("has-overlay").children("section."+t.thumbContClass).each(function(){this.hasOwnProperty("overlay")?b(e(this)):s=e(this).hide()});var n="ths_"+Math.floor(1e4*Math.random()),l=e("<section>",{class:"row overlay "+t.thumbContClass+" "+a.className,id:n}).data("oly_ns",n).insertAfter(s||c);return l[0].overlay=n,function(a,t){var s=e("<div>",{class:"large-12 columns cont-box"}).prependTo(a);s=e("<header>",{class:t&&t.hasOwnProperty("icon")?t.icon:""}).appendTo(s),t&&t.hasOwnProperty("title")&&s.append(e("<h4>",{html:t.title})),s.append(e("<a>",{class:"close",href:"",text:d.return}).on("click",function(){return v(),!1}))}(l,a),g(l),l},b=function(e){var s=e.data("oly_ns");s&&a.off("."+s),e.closest("."+t.thumbsClass).trigger("lightboxRemove"),e.remove()},v=function(){return c.removeClass("has-overlay").children("section."+t.thumbContClass).each(function(){this.hasOwnProperty("overlay")?b(e(this)):e(this).show()}),removeParam(t.indexName),q(),e("#selectall").toggleClass("disabled",0===e("section."+t.thumbContClass+" ."+t.cardClass).length),e("#selectnone, #add-selected").addClass("disabled"),null},y=function(e){return c.find("section."+t.folderContClass+(e?" "+e:""))},k=function(e){return c.find("section."+t.thumbContClass+":visible ."+t.thumbsClass+" "+(e||""))},w=function(a){var s=e();return k("."+t.thumbClass).each(function(){var t=e(this).attr("href")||e(this).data("href");if(t&&(t===a||t.endsWith("/"+a)))return s=e(this).parent(),!1}),s},x=function(a){var s=[];return k("."+t.thumbClass+"."+t.checkedClass).each(function(){a&&e(this).removeClass(t.checkedClass),s.push(e(this).closest("."+t.cardClass).data(J.OBJ))}),s},P=function(){if(p)clearTimeout(m);else{var s=y();if(s.is(":visible")){if(p=!0,(s=s.find("."+t.lazyloadClass)).length){var n=a.height(),l=a.scrollTop();s.each(function(){var a=e(this),s=a.offset().top,o=a.height();if(s<l+2*n&&s+o>l-n&&function(a){var s=a.children("a[data-thumb]").eq(0);s.children("img").length||s.append(e("<img>",{alt:s.data("alt"),class:"hide-image"}).one("load",function(){a.removeClass(t.lazyloadClass),e(this).addClass("show-image").removeClass("hide-image")}).attr("src",s.data("thumb")+(i||"")))}(a),s>=l+2*n)return!1}),clearTimeout(m),m=setTimeout(P,t.scrollCheckInterval)}else a.off(".lazy");p=!1}}};e.fn.renderThumbs=function(s,l,c,h){if(typeof s===UNDEF||!s.length||!e.isArray(s))return this;var u=e(this).eq(0),m=u.closest("section").data("oly_ns"),p=a.scrollTop(),C=null,b=function(){var a=u.find("."+t.thumbsClass);return a.length||(a=e("<section>",{class:"row "+t.thumbContClass}).appendTo(u),a=g(a)),a}(),v=function(){if(b.is(":visible")){var s=a.scrollTop();if(Math.abs(s-p)>20)return p=s,void(C=setTimeout(v,t.scrollCheckInterval));var n=k("."+t.lazyloadClass),l=a.height();n.not(":empty").each(function(){var a=e(this),t=a.offset().top;if(t+a.height()>p-l){if(!(t<p+2*l))return!1;w(a)}}),n.length?(p=s,C=setTimeout(v,t.scrollCheckInterval)):a.off("scroll."+m)}},y=function(a){return!("A"!==a.target.id||!e(a.target).closest("."+t.commentClass).length)||(b.trigger("lightboxLoad",e(a.target).closest("."+t.cardClass)),!1)},w=function(a){if(a.length){var s=a.children("."+t.thumbClass).eq(0);s.children("img").length||s.append(e("<img>",{class:"hide-image"}).one("load",function(){e(this).addClass("show-image").removeClass("hide-image"),a.removeClass(t.lazyloadClass)}).attr("src",r.getThumbPath(a.data(J.OBJ))+(i||"")))}};if(m||e(this).closest("section").data("oly_ns",m="oly_"+Math.floor(1e4*Math.random())),u.append(e("<div>",{class:"progressbar"})),function(){for(var a,l,i,c,h,u,p=k("."+t.cardClass),g=(new Date,0);g<s.length;g++)u=s[g],g<p.length?(l=(a=p.eq(g)).children("."+t.thumbClass),c=a.find("."+t.captionClass),(i=l.find("img").eq(0)).addClass("hide-image").on("load."+m,function(){e(this).addClass("show-image").removeClass("hide-image").parents("."+t.cardClass).removeClass(t.preloadClass)}),i[0].complete&&i.trigger("load")):(a=e("<div>",{class:t.cardClass+" "+t.lazyloadClass}).append(l=e("<a>",{class:t.thumbClass+" "+t.verticalMiddleClass}).data("href",r.getItemPath(u))).appendTo(e("<div>",{class:"column"}).appendTo(b)),(h=u[J.THUMBCAPTION])&&(a.addClass(t.hascaptionClass),c=e("<div>",{class:t.captionClass,html:h}),t.captionTooltip&&c.append('<b class="nub"></b>'),t.captionAbove?a.prepend(c):a.append(c))),a.data(J.OBJ,u),r.isLightboxable(u)?(a.addClass(t.lbableClass),l.on("click."+m,y),(n&&r.hasShop(u)||o&&t.feedback)&&(l.addClass("selectable"),n&&l.append(e("<a>",{class:"icon-shopping-cart add-cart",text:" "+d.addCart}).on("click."+m,function(a){var s=e(a.target).closest("."+t.cardClass);return s.length&&n.trigger("addItems",s.data(J.OBJ)),!1})))):(a.addClass(u[J.CATEGORY]),l.attr("href",r.getItemPath(u))),t.markNew&&u.hasOwnProperty(J.MODIFIEDDAYS)&&f-u[J.MODIFIEDDAYS]<t.markNew&&l.append(e("<span>",{class:"icon-star new-image"}).data("tooltip",new Date(864e5*u[J.MODIFIEDDAYS]).toLocaleDateString()).addTooltip()),t.rightClickProtect&&l.on("contextmenu",function(e){return e.preventDefault(),!1})}(),!t.fixedShapeThumbs||"tooltip"!==t.captionPlacement){var x=[];t.captionAbove&&x.push(t.captionClass),t.fixedShapeThumbs||x.push(t.thumbClass),x.push(t.cardClass),k().matchHeight({delegate:t.cardClass,match:x})}return C=setTimeout(v,t.scrollCheckInterval/2),u.on("setactivethumb",function(s,n){if(n){var l=e(n),o=a.height(),r=a.scrollTop(),i=l.offset().top,c=l.outerHeight();b.find("."+t.activeClass).removeClass(t.activeClass),l.addClass(t.activeClass),i+c>r+o?e("html, body").stop(!0,!1).animate({scrollTop:Math.round(i-o+c+30)+"px"}):i<r&&e("html, body").stop(!0,!1).animate({scrollTop:Math.round(Math.max(i-30,0))+"px"})}}),e.isFunction(l)&&(typeof c!==UNDEF?typeof h!==UNDEF?l.call(void 0,b,c,h):l.call(void 0,b,c):l.call(void 0,b)),u.find(".progressbar").remove(),this};var T=function(s,n){var l=C({className:"tags-found",icon:"icon-label",title:"&ldquo;"+s+"&rdquo;"}),o=l.find("header h4");o.append(e("<span>",{class:"progressbar"})),(l.offset().top<a.scrollTop()||l.offset().top>a.scrollTop()+a.height()-100)&&a.scrollTop(l.offset().top),r.collectItems(e.extend(t.tagCloud,{exact:t.exactFields,terms:s,ready:function(){o.find(".progressbar").remove(),o.append(e("<small>",{text:this.length?d.foundNTimes.replace("{0}",this.length):d.notFound})),l.renderThumbs(this,M),n&&n.call()}}))},N=function(a,s){var n=C({className:"search-results",icon:"icon-search",title:"&ldquo;"+a+"&rdquo;"}),l=n.find("header h4");l.append(e("<span>",{class:"progressbar"})),setTimeout(function(){r.collectItems(e.extend(t.search,{exact:!1,terms:a,ready:function(){l.find(".progressbar").remove(),l.append(e("<small>",{text:this.length?d.foundNTimes.replace("{0}",this.length):d.notFound})),n.renderThumbs(this,M),s&&s.call()}}))},50)},S=function(a){if(a.length&&r){t.search=e.extend({depth:"tree",fields:"creator,keywords,title,comment"},t.search);var s=function(e){var a=e.find("input").eq(0).val();return a&&a.length>1&&N(a,function(){setParam(t.indexName,{search:a},d.search+": "+a),q()}),!1};a.find(".search-btn, button").on("click",function(){return a.hasClass(t.activeClass)?(s(a),a.removeClass(t.activeClass)):(a.find("input").eq(0).focus(),a.addClass(t.activeClass)),!1}),a.on("submit",function(e){return e.preventDefault(),s(a),a.removeClass(t.activeClass),!1}),a.find("input").on({focus:function(){a.addClass(t.activeClass)}})}},O=function(e){return"dateTaken"==e?d.imagesTaken:"fileModified"==e?d.imagesModified:d.imagesAdded},D=function(a,s){var n=C({className:"search-results",icon:"icon-star",title:O(t.searchNew.reference)+" "+getTimespan(a)}),l=n.find("header h4");l.append(e("<span>",{class:"progressbar"})),setTimeout(function(){r.collectByDate(e.extend(t.searchNew,{range:a,ready:function(){l.find(".progressbar").remove(),l.append(e("<small>",{text:this.length?d.foundNTimes.replace("{0}",this.length):d.notFound})),n.renderThumbs(this,M),s&&s.call()}}))},50)},I=function(e){return e&&D(e,function(){setParam(t.indexName,{newimages:e},O(t.searchNew.reference)+" "+getTimespan(e)),q()}),!1},M=function(a,s){r&&((r.hasShop()||t.feedback)&&(a.find(".selectable").length?(a.selectable({cardClass:"selectable",checkedClass:t.checkedClass,anySelected:function(){e("."+t.selectNoneClass+",."+t.addSelectedClass).removeClass("disabled")},noneSelected:function(){e("."+t.selectNoneClass+",."+t.addSelectedClass).addClass("disabled")}}),e("#shop,#feedback").show(),e("."+t.selectAllClass).removeClass("disabled")):e("#shop,#feedback").hide(),e("."+t.selectNoneClass+",."+t.addSelectedClass).addClass("disabled")),a.find("."+t.lbableClass).length?(a.trigger("lightboxRemove"),a.lightbox(r,{baseSet:typeof s!==UNDEF&&s,onLoadStart:function(e){var a=e.data(J.OBJ);a&&addParam(t.indexName,{img:r.getItemName(a)},a[J.TITLE])},onLoadEnd:function(e){a.trigger("setactivethumb",e)},onClose:function(){removeParam(t.indexName,"img")},onReady:function(){if(u&&window.location.hash){u=!1;var a=readParam();if(a.hasOwnProperty("label"))T(a.label,function(){addParam(t.indexName,{label:a.label,search:null,newimages:null},d.label+": "+a.label)});else if(a.hasOwnProperty("search"))N(a.search,function(){addParam(t.indexName,{search:a.search,label:null,newimages:null},d.search+": "+a.search)});else if(a.hasOwnProperty("newimages"))D(a.newimages,function(){addParam(t.indexName,{newimages:a.newimages,search:null,label:null},d.searchNew+": "+a.searchNew)});else if(a.hasOwnProperty("img")){var s=w(encodeURIComponent(a.img));s.length?k().trigger("lightboxLoad",s):removeParam(t.indexName,"img")}}e("."+t.startshowClass).fadeIn().children(".button").on("click",F)},onSlideshowStart:function(){t.hasOwnProperty("backgroundMusic")&&t.backgroundMusic.slideshowControl&&e(t.backgroundMusic.hook).trigger("startPlayer")},onSlideshowPause:function(){t.hasOwnProperty("backgroundMusic")&&t.backgroundMusic.slideshowControl&&e(t.backgroundMusic.hook).trigger("pausePlayer")}})):(e("."+t.startshowClass).fadeOut(),e("."+t.selectNoneClass+",."+t.addSelectedClass+",."+t.selectAllClass).addClass("disabled")))},F=function(e){var a=k("."+t.activeClass+":first-child");return a.length||(a=k("."+t.cardClass+":first-child")),a.length&&k().trigger("lightboxLoad",[a,!0]),!1},A=function(){if(r){var a,s=r.getFolders();y("."+t.cardClass+"."+t.folderClass).each(function(n){n<s.length&&s[n].hasOwnProperty(J.MODIFIEDDAYS)&&(a=s[n][J.MODIFIEDDAYS],f-a<t.markNew&&e(this).find("."+t.thumbClass).append(e("<span>",{class:"icon-star new-image"}).data("tooltip",new Date(864e5*a).toLocaleDateString()).addTooltip()))})}},L=function(){var e=y();e.children().length&&(t.markNew&&setTimeout(A,300),t.fixedShapeFolderThumbs&&"over"===t.folderCaptionPlacement||e.matchHeight({delegate:t.cardClass,match:t.fixedShapeFolderThumbs?[t.cardClass]:[t.thumbClass,t.cardClass]}),e.find("."+t.preloadClass+":first-child img").waitAllImg(function(){e.find("."+t.preloadClass).removeClass(t.preloadClass),e.trigger("refresh")}),P())},E=function(){if(window.location.hash!==h){h=window.location.hash;var e=readParam();if(e.hasOwnProperty("label"))T(e.label,function(){setParam(t.indexName,{label:e.label},d.label+": "+e.label),q()});else if(e.hasOwnProperty("search"))N(e.search,function(){setParam(t.indexName,{search:e.search},d.search+": "+e.search),q()});else if(e.hasOwnProperty("newimages"))D(e.newimages,function(){setParam(t.indexName,{newimages:e.newimages},d.newImages+": "+e.newimages),q()});else if(e.hasOwnProperty("img")){var a=w(e.img);a.length?k().trigger("lightboxLoad",a):removeParam(t.indexName,"img")}else k().trigger("lightboxQuit"),v()}},q=function(){t.hasOwnProperty("share")&&k().trigger("lightboxContainer").is(":visible")&&e(t.share.hook).trigger("updateLinks")};if(window.location.search&&removeSearch(),"index"===t.pageType){typeof Album===UNDEF&&console.log("Critical Error: Missing jalbum.album.js library!");var z={makeDate:t.makeDate,rootPath:t.rootPath,relPath:t.relPath,ready:function(){if(r){var a=r.getImages();k("."+t.cardClass+">a").each(function(){e(this).data("href",this.href).attr("href","")}),L(),e.fn.hasOwnProperty("paypal")&&(e.fn.paypal.defaults.relPath=t.relPath,e.fn.paypal.defaults.rootPath=t.rootPath,s=e("section#shop"),(n=e("#shop-root").paypal(r))&&(s.find("."+t.selectAllClass).on("click",function(){return k().trigger("selectAll"),!1}),s.find("."+t.selectNoneClass).on("click",function(){return k().trigger("selectNone"),!1}),s.find("."+t.addSelectedClass).on("click",function(){return n.trigger("addItems",x(!0)),k().trigger("selectNone"),!1}),e.fn.lightbox.defaults.hasOwnProperty("shop")||(e.fn.lightbox.defaults.shop={}),e.fn.lightbox.defaults.shop.root=n)),t.hasOwnProperty("feedback")&&(e.fn.feedback.defaults.relPath=t.relPath,e.fn.feedback.defaults.rootPath=t.rootPath,l=e("section#feedback"),(o=e("#feedback-root").feedback(r,t.feedback)).length&&(l.find("."+t.selectAllClass).on("click",function(){return k().trigger("selectAll"),!1}),l.find("."+t.selectNoneClass).on("click",function(){return k().trigger("selectNone"),!1}),l.find("."+t.addSelectedClass).on("click",function(){return o.trigger("addItems",x(!0)),k().trigger("selectNone"),!1}))),a.length?(function(){var a=c.children("section."+t.thumbContClass+":visible").eq(0);if(a.length||(a=e("<section>",{class:"row "+t.thumbContClass}).appendTo(c),g(a)),!a.data("oly_ns")){var s="oly_"+ +Math.floor(1e4*Math.random());a.data("oly_ns",s).attr("id",s)}return a}().renderThumbs(a,M,!0),t.hasOwnProperty("map")&&t.map.index&&e(".map-root").addMap({markers:function(e){for(var a=[],t=0;t<e.length;t++)e[t].hasOwnProperty("location")&&a.push({title:[t+".",e[t].title,e[t].comment].join(" "),pos:e[t].location,link:e[t].path});return a}(a),type:t.map.type||"roadmap",zoom:t.map.zoom||16,fitBounds:!0,fullscreenControl:!0,click:function(){if(this.link){var e=w(this.link);e.length&&(v(),k().trigger("lightboxLoad",e))}}})):window.location.hash&&E(),t.hasOwnProperty("folderTree")&&e(t.folderTree.hook).append(function(){var a=function(s){if(s.hasOwnProperty(J.FOLDERS)&&s[J.FOLDERS].length){var n,l,o,i,c=s[J.FOLDERS];for(n=e("<ul>"),o=0;o<c.length;o++)i=r.getRelativeFolderPath(c[o]),(l=e("<li>").appendTo(n)).append(e("<a>",{href:(i?i+"/":"")+t.indexName,html:c[o][J.TITLE]||c[o][J.NAME]||""})).append(a(c[o])),i||l.addClass("actual");return n}return e()};if("tree"===t.folderTree.type)return t.level>0?function(){var a=t.rootPath;return e("<a>",{class:"home-link icon-home",href:(a?a+"/":"")+t.indexName,text:" "+r.getAlbumTitle()})}().add(a(r.getTree())):a(r.getTree());a(r.getCurrentFolder())}())}},deepReady:function(){t.hasOwnProperty("tagCloud")&&(t.tagCloud.hasOwnProperty("searchHook")&&function(){var a=e(t.tagCloud.searchHook);if(a.length&&r){var s=function(e){var a=e.find("input").eq(0).val();return a&&a.length>1&&T(a,function(){setParam(t.indexName,{label:a},d.label+": "+a),q()}),!1};a.find(".search-btn, button").on("click",function(){return a.find("input").eq(0).focus(),s(a),!1}),a.on("submit",function(e){return e.preventDefault(),s(a),!1})}}(),r.collectTags(e.extend(t.tagCloud,{exact:t.exactFields,ready:function(){!function(a){if(a.length){var s=e(t.tagCloud.hook);if(s.length){for(var n,l,o,r=function(){var a=e(this).children("span").eq(0).text();return a&&a.length>1&&T(a,function(){setParam(t.indexName,{label:a},d.label+": "+a),q()}),!1},i=0,c=a.length;i<c;i++){if((n=e("<a>",{class:"tag"}).append(e("<span>",{text:a[i][0]}))).on("click",r),a[i][1]>1){if(t.tagCloud.fontVaries){for(l=0,o=Math.min(64,a[i][1]);o>1;)l++,o>>=1;n.addClass("size-"+l)}n.append("&nbsp;").append(e("<sup>",{text:a[i][1]}))}s.append(n)}if(a.length){var h;s.outerHeight()>175&&(s.css({maxHeight:150,overflow:"hidden"}),(h=e("<div>",{class:"toggle-height"})).append(e("<a>",{class:"icon-drop-down",text:" "+d.more}).on("click",function(){var e=s.parent();e.css({height:e.height(),overflow:"hidden"}),s.css({maxHeight:"none"}),setTimeout(function(){var a=s.prop("scrollHeight");e.css({height:"auto",overflow:"visible"}),s.css({maxHeight:150}),setTimeout(function(){s.css({maxHeight:a+20})},25),h.addClass(t.activeClass)},50)})).append(e("<a>",{class:"icon-drop-up",text:" "+d.less}).on("click",function(){s.css({maxHeight:150}),h.removeClass(t.activeClass)})),s.after(h))}}}}(this)}}))),t.hasOwnProperty("search")&&S(e(t.search.hook)),t.hasOwnProperty("searchNew")&&function(a){if(a.length&&r){t.searchNew=e.extend({days:"3,30,90",depth:"folder",reference:"added",sinceLastVisit:!0},t.searchNew);var s=t.searchNew.days.split(",");a.append(e("<label>",{text:O(t.searchNew.reference)}));for(var n=0;n<s.length;n++)a.append(e("<a>",{class:"smallbtn",text:getTimespan(s[n])}).data("days",parseInt(s[n],10)).on("click",function(){I(e(this).data("days"))}));if(t.searchNew.sinceLastVisit){var l=e.cookie("lastVisit"),o=Math.ceil(new Date/864e5);l&&l<o&&a.append(e("<a>",{class:"smallbtn",text:d.sinceMyLastVisit}).on("click",function(){I(o-l)})),e.cookie("lastVisit",o,31536e4)}}}(e(t.searchNew.hook))}};t.indexName!==e.fn.skin.defaults.indexName&&(z.indexName=t.indexName),t.audioPoster!==e.fn.skin.defaults.audioPoster&&(z.audioPoster=t.audioPoster),t.videoPoster!==e.fn.skin.defaults.videoPoster&&(z.videoPoster=t.videoPoster),r=new Album(e,z)}(i=e.cookie(e("title").text()+"_thumbDims"))&&t.hasOwnProperty("thumbDims")&&i===t.thumbDims?i="":(i="?"+(i||t.thumbDims),e.cookie(e("title").text()+"_thumbDims",t.thumbDims)),t.rightClickProtect&&e("."+t.folderContClass+",."+t.sliderClass).on("contextmenu","img",function(e){return e.preventDefault(),!1}),t.hasOwnProperty("map")&&(t.map.hasOwnProperty("type")&&(e.fn.lightbox.defaults.mapType=t.map.type,e.fn.addMap.defaults.type=t.map.type),t.map.hasOwnProperty("zoom")&&(e.fn.lightbox.defaults.mapZoom=t.map.zoom,e.fn.addMap.defaults.zoom=t.map.zoom),t.map.hasOwnProperty("apiKey")&&(e.fn.addMap.defaults.apiKey=t.map.apiKey)),passDefaults(t,e.fn.lightbox.defaults,"indexName,level,previousFoldersLast,nextFoldersFirst,rightClickProtect,enableKeyboard,enableMouseWheel,extraSizes,lbableClass"),passDefaults(t.lightbox,e.fn.lightbox.defaults),t.hasOwnProperty("share")&&(e.fn.renderShares.defaults.buttonTheme=t.share.buttonTheme||"dark",e.fn.renderShares.defaults.facebookAppId=t.share.facebookAppId||"",e(t.share.hook).renderShares(t.share),"facebook"!==t.share.sites&&(e.fn.lightbox.defaults.share=t.share.sites.replace("facebook,","").replace(",facebook",""))),e("[data-audioPlayer]").length&&e("[data-audioPlayer]").audioPlayer({rootPath:t.rootPath}),a.on("hashchange.tiger_skin",E),this.getAlbum=function(){return r}},e.fn.skin.defaults={contentHook:"article.cont",sliderClass:"slider",folderContClass:"folder-cont",folderClass:"folder",thumbContClass:"thumb-cont",thumbGridClass:"caption-below small-up-2 medium-up-3 large-up-4",thumbsClass:"thumbnails",thumbClass:"thumb",verticalMiddleClass:"vertical-middle",cardClass:"card",lbableClass:"lbable",captionClass:"caption",commentClass:"comment",hascaptionClass:"hascaption",checkedClass:"checked",activeClass:"active",preloadClass:"preload",lazyloadClass:"lazyload",startshowClass:"startshow",selectAllClass:"select-all",selectNoneClass:"select-none",addSelectedClass:"add-selected",fixedShapeThumbs:!0,fixedShapeFolderThumbs:!0,folderCols:2,scrollCheckInterval:100,indexName:"index.html",audioPoster:"audio.poster.png",videoPoster:"video.poster.png",exactFields:"creator,keywords",fixGrid:!1,autoStart:!1,scaleUp:!1,rightClickProtect:!1,enableKeyboard:!0,videoAuto:!0}}(jQuery,jQuery(window),jQuery(document),jQuery("body"));
